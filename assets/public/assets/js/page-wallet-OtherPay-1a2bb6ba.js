import{A as Aa,r as g,z as Ba,B as v,R as Na,$ as Ia,E as $a,bE as Gt,q as Ta,a2 as Mt,u as C,F as me,p as La,n as Ht,b4 as Vt,a0 as ba,G as ia,H as ve,I as P,J as r,Q,P as i,ao as O,O as _,aB as K,aC as qa,aD as xa,N as w,K as Ea,M as Ga,ap as Xe,C as Ft,X as Qt,au as wa,av as Pe,Z as Kt}from"./common.modules-f9fa5dc7.js";import{aj as Wt,a5 as Xt,G as jt,y as ge,c as ie,ba as zt,g as Le,a6 as he,A as b,dg as Jt,a7 as _a,a8 as Zt,dh as Yt,di as er,dj as ar,dk as tr,am as rr,aw as nr,dl as sr,dm as ir,dn as or,dp as lr,dq as cr,dr as Oa,ds as Re,as as aa,at as ta,au as ra,av as na,aT as We,dt as ur,bZ as dr,du as pr,dv as yr,de as fr,dw as mr,dx as gr,dy as hr,dz as Pa,dA as vr,dB as kr,dC as Ir,dD as Tr,dE as br,dF as Ma,dG as wr,dH as _r,dI as Or,dJ as Pr,ag as Rr,dK as Cr,dL as Ur,b8 as Sr,d7 as Dr,_ as oa,b as D,d1 as Ar,L as Ra}from"./page-activity-ActivityDetail-5a5f2722.js";import{D as Ca}from"./page-activity-Championship-a16bb0a5.js";const e=Aa({rechangeUpiShow:!1,rechargeSubmitBtnStatus:!1,currentMenu:-4,rechargeType:[],bankList:[],rechargeTypes:[],bank_local:[],quickList:[],C2CQuickList:[],priceRange:{min:0,max:0},currentPayType:{},isRechargeInputDialog:JSON.parse(localStorage.getItem("userInfo")||"{}").isOpenOfficialRechargeInputDialog==="1",amount:void 0,numberPayAmount:void 0,numberExchangeRate:0,validateAmount:"",currentQuickIndex:-1,rechargeDialogVisible:!1,bankInfo:{},currentBankIndex:0,isC2COrder:!1,C2COrderInfo:void 0,isBankOrder:!1,bankOrderInfo:void 0,isUsdtOrder:!1,currentPayId:0,localUsdtInfo:[],currentLocalUsdtIndex:0,usdtOrderInfo:{},orderDetail:{},bankUTR:"",localUpiUTR:"",upiOrderInfo:void 0,isUpiOrder:!1,CreateUpiOrderRep:void 0,otherBankName:"",thirdPayBankList:[],selectOtherBank:void 0,arPayInfo:void 0,isArPayOrder:!1,isRsnPayOrder:!1,isArUpiPayOrder:!1,rsnInfo:{balance:0,walletActivationStatus:0,walletAddress:""},goingOrder:null,arupiGoingOrder:!1,payTypeLoading:!1,reasonShow:!1}),Br=[9,10,18,19],Nr=[11,16,19],sa=g(),Ua=g(1),$e=g(),Sa=g(!1),Da=g(!1),Ce=g(),Ha=()=>{const{t:l}=Ba(),m=zt(),{localStore:L}=Rr(),{handleOpen:W}=Wt({type:3}),{goWallet:M}=Xt(),u=v(()=>y.value===20),q=v(()=>y.value===21),X=v(()=>y.value===22),H=v(()=>{var a;return[26e3,26001].includes((a=e.currentPayType)==null?void 0:a.payTypeID)||y.value===26}),j=jt(),x=ge(),S=j.getUserInfo,T=v(()=>S.uRate),Y=v(()=>S.trxRate),z=v(()=>S.isOpenOfficialRechargeInputDialog==="1"),oe=v(()=>S.isShowRechargeBankList==="1"||![9,10].includes(y.value)),B=v(()=>Nr.includes(y.value)),h=Na(),ee=g(!1),V=g(!1),ue=g(),Ue=g([]),qe=g(!1),ke=g(!1),ne=g(0),xe=g(0),Ee=g(!1),je=g(!1),ze=g(""),Ge=g(!1),Me=g(!1),He=g([]),Ve=g(),le=g(2),Ie=g(!1),Se=g(""),p=v(()=>x.getDollarSign),d=g(!1),E=g([]),se=Aa({checked:-1,text:""}),Te=a=>{sa.value=a},be={11:{key:"USDT",unit:"USDT",selectText:l("selectUSDTNum"),placeholder:l("enterUSDTAmount"),icon:"usdt"},16:{key:"TRX",unit:"TRX",selectText:l("selectTRXNum"),placeholder:l("enterTRXAmount"),icon:"trx"},19:{key:"USDT",unit:"USDT",selectText:l("selectUSDTNum"),placeholder:l("enterUSDTAmount"),icon:"usdt"}},de=v(()=>{var t;let a=(t=e.rechargeTypes[0])==null?void 0:t.c2cUnitAmount;return a?a.toString().substring(1):"00"}),pe=v(()=>{var a,t;return((a=e.bankList)==null?void 0:a.length)<1?[]:(t=e.bankList)==null?void 0:t.filter(n=>n.transferType===Ua.value)}),ce=v(()=>y.value===12),y=v(()=>e.currentPayId),J=v(()=>Br.includes(y.value)),N=v(()=>y.value===10),I=v(()=>e.currentPayType.payTypeID||-1),ae=v(()=>!J.value&&!q.value&&!X.value&&!H.value&&!ce.value&&!N.value),te=v(()=>p.value==="৳"?pe.value[e.currentBankIndex].bankName:e.bankList[e.currentBankIndex].bankName),we=v(()=>p.value==="৳"?pe.value:e.bankList),De=v(()=>e.thirdPayBankList.length>0?e.thirdPayBankList.filter(a=>a.type===e.currentPayType.payTypeID):[]),Fe=v(()=>y.value!==18?!0:!ge().getIsSplitLocalEWallet),Ae=async()=>{e.rechargeType.unshift({payNameUrl2:Le("wallet/withdraw/withdrawHistory","all_NS"),payNameUrl:Le("wallet/withdraw/withdrawHistory","all"),payID:-1,payName:l("all"),minPrice:0,maxPrice:-0,scope:"",typeName:l("all"),payTypeID:0,paySysName:""}),e.currentMenu=0},Fa=v(()=>ce.value?!!e.isUpiOrder:J.value||N.value?!!e.isBankOrder||!!e.isUsdtOrder:q.value?!!e.isArPayOrder:X.value?!!e.isRsnPayOrder:H.value?!!e.isArUpiPayOrder:!1),Je=v(()=>y.value===11||y.value===19?T.value:y.value===16?Y.value:0),Qa=v(()=>e.rechargeType.find(a=>a.payID===21)),Ka=v(()=>e.rechargeType.find(a=>a.payID===22)),Wa=v(()=>e.rechargeType.find(a=>a.payID===26)),_e=v(()=>e.rechargeType),Xa=v(()=>e.localUsdtInfo[e.currentLocalUsdtIndex]),ja=v(()=>{const{min:a,max:t}=e.priceRange;return`${ie(a)} - ${ie(t)}`}),za=async a=>{qt(),e.currentMenu=0,e.rechargeType=[];const t=await he(),n=await b(Jt({deviceType:t}));if(n){if(e.rechargeType=n.data.typelist,!e.rechargeType.length)return;const s=e.rechargeType[0].payID;e.currentPayId=s,!a&&la(0),a&&Ae()}},Be=()=>{var t;return(t=e.rechargeTypes.find(n=>n.paySysName===te.value))==null?void 0:t.payTypeID},la=async a=>{const t=_e.value[a].payID;if(e.currentMenu=a,a===-1?e.currentPayId=21:a===-2?e.currentPayId=22:a===-3?e.currentPayId=26:e.currentPayId=t,e.arupiGoingOrder=!1,e.goingOrder=null,Ja(),await ca(),ce.value&&!H.value)ma();else if(q.value)ua();else if(X.value)et();else if(H.value)Ya(),da();else if(J.value||N.value)if(t.value===19)ga();else if(t.value===18&&!ge().getIsSplitLocalEWallet)Qe(Be());else{let n=e.currentPayType.payTypeID;Qe(N.value?t.value:n||-1)}Ke()},Ja=()=>{e.isArPayOrder=!1,e.isRsnPayOrder=!1,e.isArUpiPayOrder=!1,e.isC2COrder=!1,e.isUpiOrder=!1,e.isBankOrder=!1,e.isUsdtOrder=!1},Oe=(a,t="arupi",n=!0)=>{if(!a)return;x.getArUpiInputUtrSwitch&&t==="arupi"&&(t="arupi_v2");const s=Gt.parse(a.split("?")[1]);L.set("ar_p_t",s.token),L.set("ar_p_lang",s.lang),n&&h.push({name:t,query:{payTypeId:e.currentPayType.payTypeID}})},ca=async(a,t,n)=>{var R,U,A,G,f,$,F,ye;if(e.payTypeLoading)return;e.payTypeLoading=!0;const s=Ta({message:l("loading")+"...",forbidClick:!0}),o=await he(),c=await b(_a({payid:y.value||a,payTypeId:((R=_e.value[e.currentMenu])==null?void 0:R.payTypeID)||t,deviceType:o}));if(e.payTypeLoading=!1,s.close(),c){if(y.value===19&&(e.localUsdtInfo=c.data.localUsdtlist),e.rechargeTypes=c.data.rechargetypelist,e.bankList=c.data.banklist,J.value&&((U=e.bankList)==null?void 0:U.length)>0&&(e.currentBankIndex=0),N.value&&(((A=e.bankList)==null?void 0:A.length)>1&&(e.currentBankIndex=ka()),e.bank_local=c.data.rechargetypelist[0].parameters.split("|")),J.value){if(y.value===18){const fe=e.bankList[0].bankName,k=(G=c.data.rechargetypelist)==null?void 0:G.find(re=>re.paySysName===fe);k&&k.parameters&&(e.bank_local=k.parameters.split("|"))}else e.bank_local=c.data.rechargetypelist[0].parameters.split("|");console.log("bank_local",e.bank_local)}((f=c.data)==null?void 0:f.rechargetypelist.length)>0&&(e.quickList=($=c.data.rechargetypelist[0])==null?void 0:$.quickConfigList,e.currentPayType=c.data.rechargetypelist[0],e.priceRange={min:Number((F=c.data.rechargetypelist[0])==null?void 0:F.miniPrice),max:Number((ye=c.data.rechargetypelist[0])==null?void 0:ye.maxPrice)}),y.value===14&&e.currentPayType&&(e.bank_local=e.currentPayType.parameters.split("|")),ae&&(e.thirdPayBankList=c.data.thirdPayBankList||[],e.thirdPayBankList.length>0&&(e.selectOtherBank=De.value[0]))}},Za=async()=>{var t,n,s;if(!e.currentPayId)return clearInterval(Ce.value);const a=await b(_a({payid:e.currentPayId}));a?(e.quickList=(t=a.data.rechargetypelist[0])==null?void 0:t.quickConfigList,e.priceRange={min:Number((n=a.data.rechargetypelist[0])==null?void 0:n.miniPrice),max:Number((s=a.data.rechargetypelist[0])==null?void 0:s.maxPrice)}):clearInterval(Ce.value)},ua=async()=>{const a=await b(Zt());a.code===0&&(e.isArPayOrder=a.data)},Ya=async()=>{const a=await b(Yt({payTypeId:e.currentPayType.payTypeID}));a.code===0&&(e.isArUpiPayOrder=a.data)},da=async()=>{const a=await b(er({payTypeId:e.currentPayType.payTypeID}));if((a==null?void 0:a.code)===0){const t=a.data||{};if(a.data||(e.arupiGoingOrder=!1,e.reasonShow=!1),e.goingOrder=a.data,Se.value=t.token,t.paymentPageExpire==null)return;(t.paymentPageExpire==0&&t.utrSubmitSuccess==0||t.paymentPageExpire==1&&t.utrSubmitSuccess==0)&&(e.arupiGoingOrder=!0)}},et=async()=>{const a=await ar();(a==null?void 0:a.code)===0&&(e.rsnInfo=a.data);const t=await b(tr());t.code===0&&(e.isRsnPayOrder=t.data)},at=a=>{var t,n,s;e.currentPayType=e.rechargeTypes[a],e.quickList=(t=e.rechargeTypes[a])==null?void 0:t.quickConfigList,e.priceRange={min:Number((n=e.rechargeTypes[a])==null?void 0:n.miniPrice),max:Number((s=e.rechargeTypes[a])==null?void 0:s.maxPrice)},e.thirdPayBankList.length>0&&(e.selectOtherBank=De.value[0]||""),y.value===14&&(e.bank_local=e.currentPayType.parameters.split("|")),Ke()},Ze=()=>{let a=y.value===11||y.value===19?"USDT":"TRX";return(e.numberPayAmount||e.numberPayAmount===0)&&e.numberPayAmount<=0?(e.validateAmount=l("rangeDesc1"),!1):e.numberPayAmount&&e.numberPayAmount>e.priceRange.max?(e.validateAmount=l("rangeDesc3")+" "+e.priceRange.max+a,!1):e.numberPayAmount&&e.numberPayAmount<e.priceRange.min?(e.validateAmount=l("rangeDesc2")+" "+e.priceRange.min+a,!1):(e.validateAmount="",!0)},Ye=()=>(e.amount||e.amount===0)&&e.amount<=0?(e.validateAmount=l("rangeDesc1"),!1):e.amount&&e.amount>e.priceRange.max?(e.validateAmount=l("rangeDesc3")+e.priceRange.max,!1):e.amount&&e.amount<e.priceRange.min?(e.validateAmount=l("rangeDesc2")+e.priceRange.min,!1):e.currentPayId===26&&e.amount&&e.amount%100!==0?(e.validateAmount=l("arupiPayError"),!1):(e.validateAmount="",!0),tt=a=>{if(e.currentQuickIndex=a,le.value=1,B.value){e.numberPayAmount=Number(e.quickList[a].rechargeAmount),e.numberExchangeRate=Je.value*Number(e.quickList[a].rechargeAmount),Ze()&&(e.numberPayAmount=Number(pa(e.numberPayAmount.toString())),e.numberExchangeRate=e.numberPayAmount*Je.value);return}e.amount=Number(e.quickList[a].rechargeAmount),Ye()&&(e.amount=Number(pa(e.amount.toString())))},pa=a=>(a=a+"",a.indexOf(".")>-1?a.split(".")[0]:a),ya=(a={})=>{const{data:{redirectUrl:t,scanCodePay:n,formUrl:s,formBody:o}}=a;if(!n&&t){let c=t;aa()?ta(c):ra()?na("recharge",{url:c,recharegeName:e.currentPayType.payName}):We(c)}else{const c=document.createElement("form");c.action=s,c.method="POST",c.target="_blank";for(let R in o)if(o.hasOwnProperty(R)){let U=document.createElement("input");U.name=R,U.value=o[R],U.type="hidden",c.appendChild(U)}document.body.appendChild(c),c.submit()}},rt=Mt(async()=>{if(!e.rechargeSubmitBtnStatus)return;const{onTriggerRecharege:a}=Sr();if(a({amount:e.amount}),q.value||X.value||H.value)return nt();if(ae.value){if([14].includes(y.value)&&e.currentPayType.payInfoSwitch){e.bank_local.map(t=>{let n=t.split(",")[1];e.bankInfo[n]=e.bankInfo[n]||""}),e.rechargeDialogVisible=!0;return}return ea()}if(ce.value)return pt();if(J.value||N.value)if([10,18].includes(y.value)||e.isRechargeInputDialog&&y.value!==19){if(!e.bankList){C("The payment channel is empty");return}e.bank_local.map(t=>{let n=t.split(",")[1];e.bankInfo[n]=we.value[e.currentBankIndex][n]}),e.rechargeDialogVisible=!0;return}else y.value===19?yt():fa()},400),nt=async()=>{var c,R,U,A,G;if(q.value&&((c=e.arPayInfo)==null?void 0:c.walletActivationStatus)===0){C(l("arNoActive2"));return}Ta({message:l("loading")+"...",forbidClick:!0});let a=window.location.origin+"/#/main",t={};if(ge().isOpenAdjustEvent){let f=Oa("adjustDeviceId")||"";f&&(f=JSON.parse(f)),t.vendorId=3,t.pixelId=f?`${(R=f==null?void 0:f.data)==null?void 0:R.firstPurchaseToken}_${(U=f==null?void 0:f.data)==null?void 0:U.purchaseToken}`:"",t.fbcId=((A=f==null?void 0:f.data)==null?void 0:A.appToken)||"",t.adId=((G=f==null?void 0:f.data)==null?void 0:G.adjustDeviceId)||""}else t.vendorId=1,t.pixelId=sessionStorage.getItem("pixel")||sessionStorage.getItem("fb_dynamic_pixel")||localStorage.getItem("fb_dynamic_pixel")||"",t.fbcId=Re("_fbc")||Re("_fbp")||"";const s=await he(),o={payTypeId:e.currentPayType.payTypeID,amount:e.amount||0,returnUrl:a,pixelId:t.pixelId||"",vendorId:t.vendorId||1,fbcId:t.fbcId||"",fbc:t.fbcId||"",fbp:t.fbp||"",adId:t.adId||"",amountType:le.value+"",deviceType:s};try{const f=await Cr(o);if(f&&f.data&&f.code===0){le.value=2;const{data:{submitUrl:$,submitType:F,orderResult:ye=1,recommandAmountList:fe,onGoingOrder:k={},addThirdPayOrderRsp:re=null}}=f;if(H.value){if(re)return ya({data:re});if(F==0)return ba({title:l("customerService"),message:f.msg||""}).then(()=>{W()});if(F==8){Me.value=!0,He.value=fe||[],Ve.value=fe[0];return}if(F==16)return k.hasPendingAppealOrder==1?C({message:l("haveAppealTip"),wordBreak:"break-word"}):k.isCancellable==0?C({message:l("haveProgressOrderTip"),wordBreak:"break-word"}):(Se.value=k==null?void 0:k.token,Ie.value=!0);Oe($)}else{if(ye==2)return C({message:l("arbbuy"),duration:2e3,wordBreak:"break-word",onClose(){We($)}});aa()?ta($):ra()?na("recharge",{url:$,recharegeName:e.currentPayType.payName}):We($)}}else{if([1015,1016].includes(f.msgCode))return C({message:f.msg||"",duration:2e3,wordBreak:"break-word",onClose(){M()}});if([621,623,624].includes(f.msgCode))return ba({title:l("customerService"),message:f.msg||""}).then(()=>{W()});C({message:f.msg||"",wordBreak:"break-word"})}}catch(f){if([1015,1016].includes(f.msgCode))return C({message:f.msg||"",duration:2e3,wordBreak:"break-word",onClose(){M()}})}},st=async()=>{const{code:a,data:t}=await rr({});a==="1"&&(E.value=t||[])},it=async(a=!1)=>{var o,c,R,U,A,G;const{checked:t,text:n}=se;if(a){if(t===-1&&!n)return C({message:l("selectReason"),wordBreak:"break-word",zIndex:4e3});Oe((o=e.goingOrder)==null?void 0:o.payUrl,"arupi",!1);try{(await nr({reason:t>-1?(c=E.value[t])==null?void 0:c.reason:n,reasonId:t>-1?(R=E.value[t])==null?void 0:R.id:null})).code==="1"&&(Ie.value=!1,e.arupiGoingOrder=!1,e.goingOrder=null,e.isArUpiPayOrder=!1,e.reasonShow=!1,me(l("cancelSuccess")),setTimeout(()=>{m.emit("getRecordList")},2e3))}catch{}return}await b(sr({orderCancelToken:Se.value||((U=e.goingOrder)==null?void 0:U.token),payTypeId:e.currentPayType.payTypeID,reason:t>-1?(A=E.value[t])==null?void 0:A.reason:n,reasonId:t>-1?(G=E.value[t])==null?void 0:G.id:null}))&&(Ie.value=!1,e.reasonShow=!1,e.arupiGoingOrder=!1,e.goingOrder=null,e.isArUpiPayOrder=!1,setTimeout(()=>{m.emit("getRecordList")},2e3),me(l("cancelSuccess")))},ot=async a=>{e.arupiGoingOrder=!1;const t={orderNumber:a.rechargeNumber||a.merchantOrderNo,returnUrl:window.location.origin+"/#/main"};try{const{code:n,data:s,msgCode:o,msg:c}=await ir(t);if(n===0&&(s!=null&&s.rechargeOrderAppealPageUrl))await Oe(s==null?void 0:s.rechargeOrderAppealPageUrl,"kycAppeal");else{if(o===-1)return C({message:c||"",wordBreak:"break-word"});C({message:l("code"+o)||c||"",wordBreak:"break-word"})}}catch(n){C({message:n.msg||"",wordBreak:"break-word"})}finally{e.goingOrder=null,e.isArUpiPayOrder=!1}},lt=async a=>{if(((a==null?void 0:a.groupID)&2)!==2)try{const t={rechargeNumber:a.rechargeNumber||a.merchantOrderNo,payTypeId:a.payTypeId||e.currentPayType.payTypeID},{code:n,data:s,msgCode:o,msg:c}=await or(t);if(n===0)await Oe(`https://test.com?token=${s.token}&lang=en`,"kycAppeal_v2");else{if(o===-1)return C({message:c||"",wordBreak:"break-word"});C({message:l("code"+o)||c||"",wordBreak:"break-word"})}}catch(t){C({message:t.msg||"",wordBreak:"break-word"})}finally{e.arupiGoingOrder=!1,e.goingOrder=null,e.isArUpiPayOrder=!1}},ct=a=>{var t;e.arupiGoingOrder=!1,Oe((t=e.goingOrder)==null?void 0:t.payUrl,a)},ut=(a=!1)=>{clearInterval(Ce.value),Ce.value=null,!a&&(Ce.value=setInterval(async()=>{if(!H.value)return clearInterval(Ce.value);e.goingOrder&&await da(),await Za()},2*1e3))},dt=async(a,t,n,s,o)=>{var c,R;if(e.currentPayId=a,q.value&&s===0){if(e.isArPayOrder||await ua(),e.isArPayOrder){if((c=e.isArPayOrder)!=null&&c.includes("&GroupID=")){const A=new URL((R=e.isArPayOrder)==null?void 0:R.replaceAll("/#","")).searchParams.get("GroupID");if((Number(A)&512)===512){await M();return}}window.location.href=e.isArPayOrder}else C(l("C2Ctimeout2"));return}if(ce.value&&s===0){h.push({name:"OtherPay",query:{type:"upi"}});return}if(s===0&&a===19)return h.push({name:"RechargeUsdt"});if((J.value||N.value)&&s===0)return h.push({name:"RechargeDetail",query:{currentPayId:a,payTypeId:t,amount:n}})},pt=async()=>{await Tt(),h.push({name:"OtherPay",query:{type:"upi"}})},yt=()=>{h.push({name:"RechargeUsdt",query:{amount:e.numberPayAmount}})},ft=async a=>{await b(lr(a))&&(me(l("success")),m.emit("changeKeepAliveKey"),h.replace({name:"RechargeHistory"}))},ea=async()=>{var G,f,$,F,ye,fe;const a=ge(),t=Object.values(e.bankInfo).filter(Boolean);if([14].includes(y.value)&&!t.length&&e.currentPayType.payInfoSwitch)return C(l("phEnterName"));if(e.rechargeDialogVisible=!1,y.value===15||a.getDollarSign==="R$"){const k=await b(cr());if(Da.value=k.data.needSetPIX,k.data.isFirstPixRecharge&&!Ge.value){Sa.value=!0,Ge.value=!0;return}if(k.data.needSetPIX){await h.push({name:"Withdraw-AddPIX",query:{fromV:"Recharge"}});return}}let n=0;B.value?n=e.numberPayAmount:n=e.amount;let s=window.location.origin+",status/rechargeStatus",o={};if(ge().isOpenAdjustEvent){let k=Oa("adjustDeviceId")||"";k&&(k=JSON.parse(k)),o.vendorId=3,o.pixelId=`${(G=k==null?void 0:k.data)==null?void 0:G.firstPurchaseToken}_${(f=k==null?void 0:k.data)==null?void 0:f.purchaseToken}`||"",o.fbcId=(($=k==null?void 0:k.data)==null?void 0:$.appToken)||"",o.adId=((F=k==null?void 0:k.data)==null?void 0:F.adjustDeviceId)||""}else o.vendorId=1,o.pixelId=sessionStorage.getItem("pixel")||sessionStorage.getItem("fb_dynamic_pixel")||localStorage.getItem("fb_dynamic_pixel")||"",o.fbcId=Re("_fbc")||Re("_fbp")||"";o.isBankCode=e.thirdPayBankList.length>0&&e.selectOtherBank;const R=Re("_fbc")||"",U=Re("_fbp")||"";let A=e.thirdPayBankList.length>0&&e.selectOtherBank;if(e.currentPayType.payTypeID>=1e4)await mt(n,s,o.pixelId||"",o.fbcId||"",R,U,o.vendorId,o.adId||"",A);else{let k=e.currentPayType.paySendUrl,re="";k.indexOf("tyid")===-1?re=k+"?tyid="+e.currentPayType.payTypeID+"&amount="+n+"&uid="+S.userId+"&sign="+S.sign+(A?"&bankCode="+((ye=e.selectOtherBank)==null?void 0:ye.bankCode):"")+"&urlInfo="+s+`&pixelId=${o.pixelId}&fbcId=${o.fbcId}`:re=k+"&amount="+n+"&uid="+S.userId+"&sign="+S.sign+(A?"&bankCode="+((fe=e.selectOtherBank)==null?void 0:fe.bankCode):"")+"&urlInfo="+s+`&pixelId=${o.pixelId}&fbcId=${o.fbcId}`,aa()?ta(re):ra()?na("recharge",{url:re,recharegeName:e.currentPayType.payName}):We(re)}},mt=async(a,t,n,s,o,c,R,U,A)=>{var F;const G=await he(),f={payTypeId:e.currentPayType.payTypeID,bankCode:A?(F=e.selectOtherBank)==null?void 0:F.bankCode:"",urlInfo:t,amount:a,pixelId:n,vendorId:R||1,fbcId:s||"",fbc:o,fbp:c,adId:U,deviceType:G,...e.bankInfo};e.rechargeSubmitBtnStatus=!1;const $=await b(ur(f));e.rechargeSubmitBtnStatus=!0,$&&$.code===0&&ya($)},gt=async()=>{var s,o;let a=((s=e.amount)==null?void 0:s.toString())+de.value,t={category:y.value,orderAmount:Number(a)};const[,n]=await dr(pr(t));if(n){if((n==null?void 0:n.msgCode)===260&&n.code!==0){C(n.msg),setTimeout(()=>{h.push({name:"RechargeHistory-RechargeUpiDetail",query:{type:"C2C",orderNo:n.data.orderId,state:n.data.state}})},2e3);return}if(n.data.state===1)e.rechangeUpiShow=!1,await h.push({name:"OtherPay",query:{type:"C2C"}});else if(n.data.state===2)ke.value=!0,ne.value=n.data.errorCount,xe.value=n.data.remainingLimitTime;else{if(e.currentPayType.paySendUrl=(o=n.data.rechargeChannelInfo)==null?void 0:o.paySendUrl,e.currentPayType=n.data.rechargeChannelInfo,!n.data.suggessList.length)return ea();e.rechangeUpiShow=!0,e.C2CQuickList=n.data.suggessList}}},ht=async()=>{const a=await b(yr({amount:e.amount}));a&&(e.C2CQuickList=a.data)},fa=async()=>{if(N.value)return vt();if(y.value!==9){let t=e.bankInfo[e.bank_local[1].split(",")[1]];if(t&&t.length&&t.trim().length<7){C({message:l("wrongTel"),wordBreak:"break-word"});return}}if(z.value){for(let t in e.bankInfo)if(!e.bankInfo[t]){C(l("rechargeBankTip"));return}}if(e.rechargeDialogVisible=!1,await ha()){let t=_e.value[e.currentMenu].payTypeID;y.value===18&&(t=Be()),h.push({name:"RechargeDetail",query:{currentPayId:y.value,payTypeId:t,amount:e.amount}})}},vt=async()=>{if(Object.keys(e.bankInfo).length<2){C(l("requiredFaild"));return}for(let n in e.bankInfo)if(!e.bankInfo[n]){C(l("rechargeBankTip"));return}e.rechargeDialogVisible=!1;let a=_e.value[e.currentMenu].payTypeID;await _t()&&h.push({name:"RechargeDetail",query:{currentPayId:y.value,payTypeId:a,amount:e.amount}})},kt=async a=>{const t=await b(fr({orderId:a}));t&&(e.C2COrderInfo=t.data)},It=async()=>{var t;const a=await b(mr());a?a.data&&((t=a.data)!=null&&t.orderNo)&&(e.isC2COrder=!0,Ne(a.data.serviceTime,a.data.endTime,()=>{e.C2COrderInfo=void 0,e.isC2COrder=!1}),e.C2COrderInfo=a.data):(e.C2COrderInfo=void 0,e.isC2COrder=!1)},Qe=async a=>{var n;const t=await b(gr({payTypeId:a}));t&&(e.orderDetail=t.data,t.data&&((n=t.data)!=null&&n.orderNumber)?(e.bankUTR=t.data.refNo,e.isBankOrder=!0,Ne(t.data.serverTime,t.data.addTime1,()=>{e.bankOrderInfo=void 0,e.isBankOrder=!1}),e.bankOrderInfo=t.data):(e.bankOrderInfo=void 0,e.isBankOrder=!1))},ma=async()=>{const a=await b(hr({type:82}));a&&(a.data&&a.data.orderNumber?(e.localUpiUTR=a.data.transferUTR,e.isUpiOrder=!0,Ne(a.data.serverTime,a.data.addTime1,()=>{e.upiOrderInfo=void 0,e.isUpiOrder=!1}),e.upiOrderInfo=a.data):(e.upiOrderInfo=void 0,e.isUpiOrder=!1))},Tt=async()=>{const a=await he(),t=await b(Ur({amount:e.amount,deviceType:a}));t&&(e.CreateUpiOrderRep=t.data)},bt=async(a,t,n)=>{var s;if(a==="upi"){let o={type:1,tranrefId:e.localUpiUTR,orderNo:t+"",isBankQRCodeOrder:N.value,certificates:n};await b(Pa(o))&&(m.emit("changeKeepAliveKey"),h.replace({name:"RechargeHistory"}))}else await b(vr({orderId:t,transactionNo:e.localUpiUTR,ossUrls:n}))&&h.replace({name:"RechargeHistory-RechargeUpiDetail",query:{orderNo:(s=e.C2COrderInfo)==null?void 0:s.id,state:1}})},ga=async()=>{var t;const a=await b(kr({type:3}));a&&(a.data&&((t=a.data)!=null&&t.orderNumber)?(e.isUsdtOrder=!0,e.isBankOrder=!1,Ne(a.data.serverTime,a.data.addTime1,()=>{e.usdtOrderInfo=void 0,e.isUsdtOrder=!1}),e.usdtOrderInfo=a.data):(e.usdtOrderInfo=void 0,e.isUsdtOrder=!1,e.isBankOrder=!1))},wt=async a=>{await b(Ir(a))&&(me(l("success")),m.emit("changeKeepAliveKey"),h.replace({name:"RechargeHistory"}))},ha=async()=>{let a=_e.value[e.currentMenu].payTypeID;y.value===18&&(a=Be());const t=await he();let n={payTypeId:a,amount:e.amount,bankName:te.value,transferType:we.value[e.currentBankIndex].transferType,deviceType:t,...e.bankInfo};oe.value||delete n.bankName;const s=await b(Tr(n));return s!=null&&s.data?(e.orderDetail=s.data,e.bankUTR=s.data.refNo,!0):!1},_t=async()=>{const a=await he();let t={payTypeId:y.value,amount:e.amount||0,bankName:te.value,deviceType:a,...e.bankInfo};const n=await b(br(t));return n!=null&&n.data?(e.orderDetail=n.data,e.bankUTR=n.data.refNo,!0):!1},Ne=(a,t,n)=>{clearInterval($e.value),$e.value=void 0;let s=va(a,t);$e.value=setInterval(()=>{var R;if(s-=1e3,s<0){clearInterval($e.value),n();return}const o=Ma(s,"mm:ss"),c=(R=sa.value)==null?void 0:R.querySelectorAll("span");c==null||c.forEach((U,A)=>{U.innerHTML=o[A]})},1e3)},Ot=async a=>{var n,s;if(y.value===99)return;const t=await b(wr({rechargeNumber:a}));if(((n=t.data)==null?void 0:n.state)!==0){La(((s=t.data)==null?void 0:s.state)===1?l("orderpay"):l("ordercancle")),sessionStorage.removeItem("localOrder"),h.go(-1);return}},Pt=async()=>{var t;if(ge().getDollarSign==="₹"&&y.value===9||N.value){let n={type:1,tranrefId:e.bankUTR,orderNo:(t=e.orderDetail)==null?void 0:t.orderNumber,isBankQRCodeOrder:N.value};const s=await b(Pa(n));if(s.code===0)me(l("success"));else{me(s.msg);return}}m.emit("changeKeepAliveKey"),h.replace({name:"RechargeHistory"})},Rt=async(a,t)=>{await b(_r({orderNo:a}))&&(e.isBankOrder=!1,ee.value=!1,V.value=!1,me(l("cancelSucceed")),m.emit("changeKeepAliveKey"),h.back())},va=(a,t)=>{let n=new Date(a);return new Date(t).getTime()-n.getTime()},Ct=()=>{e.rechargeSubmitBtnStatus=!1,e.amount=void 0,e.numberPayAmount=void 0,e.numberExchangeRate=void 0,e.currentQuickIndex=-1,e.validateAmount="",le.value=2},Ut=async()=>{let a={pageNo:1,pageSize:5,startDate:"",endDate:"",state:-1,type:-1,payId:e.currentPayId,category:e.currentPayId};u.value?(a.type=-1,delete a.payId):(delete a.category,delete a.type,a.payTypeId=e.currentPayType.payTypeID||-1);const t=await b(u.value?Or(a):Pr(a));t&&(Ue.value=t.data.list)},St=(a,t,n)=>{if(t!==0&&y.value!==9&&(a.replace(/\D/g,""),e.bankInfo[n]=a.replace(/\D/g,"")),t===0){const s=localStorage.getItem("language"),o=e.bank_local[0].split(",")[1];let c=e.bankInfo[o];s!=="vi"&&(c=c.replace(/\s*/g,"")),e.bankInfo[o]=c}},Dt=a=>{if(e.currentBankIndex=a,e.currentPayId===18&&e.bankList.length){let t=p.value==="৳"?pe.value[a].bankName:e.bankList[a].bankName,n=e.rechargeTypes.find(s=>s.paySysName===t);e.bank_local=(n==null?void 0:n.parameters.split("|"))||[],e.bank_local.map(s=>{let o=s.split(",")[1];e.bankInfo[o]=e.bankList[e.currentBankIndex][o]}),e.quickList=n.quickConfigList}e.currentPayId===18&&Qe(Be())},Ke=()=>{var a;e.rechargeSubmitBtnStatus=!1,e.amount=void 0,e.numberPayAmount=void 0,e.numberExchangeRate=void 0,e.validateAmount="",e.currentQuickIndex=-1,N.value&&((a=e.bankList)==null?void 0:a.length)>1?e.currentBankIndex=ka():e.currentBankIndex=0,e.localUpiUTR="",e.bankUTR=""},At=a=>{clearTimeout(a.target.timer),a.target.timer=setTimeout(()=>{if(e.validateAmount="",e.currentQuickIndex=-1,B.value){Ze()&&(e.numberExchangeRate=e.numberPayAmount?e.numberPayAmount*Je.value:0);return}Ye(),le.value=2},500)},Bt=a=>a>=1e6?(a/1e6).toFixed(1).replace(/\.0$/,"")+"M":a>=1e3?(a/1e3).toFixed(1).replace(/\.0$/,"")+"K":a+"",Nt=async()=>await navigator.clipboard.readText(),$t=async a=>{var t=document.getElementById(a);(await Ht(()=>import("./chunk.html2-e0a7d97b.js"),[]))(t,{useCORS:!0,x:0,y:0,width:t.offsetWidth,height:t.offsetHeight}).then(s=>{s.toDataURL("image/jpeg");const o=document.createElement("a");o.href=s.toDataURL("image/jpeg"),o.download="qrcode.jpeg",document.body.appendChild(o),o.click()})},Lt=async a=>{try{return Vt.toDataURL(a)}catch{console.log("生成二维码失败")}},qt=()=>{e.isBankOrder=!1,e.isUsdtOrder=!1,e.localUpiUTR="",e.bankUTR=""},ka=()=>Math.floor(Math.random()*e.bankList.length),xt=({selectedOptions:a})=>{qe.value=!1,e.selectOtherBank=a[0]},Et=(a,t)=>{let n=new Date(a.replace(/-/g,"/")).getTime(),s=new Date(t.replace(/-/g,"/")).getTime();n-s<=0&&(Ee.value=!0)};return Ia(()=>I.value,()=>{Ke()}),$a(()=>{clearInterval($e.value)}),Ia([()=>e.amount,()=>e.numberPayAmount],()=>{if(!e.amount&&!e.numberPayAmount){e.rechargeSubmitBtnStatus=!1;return}if(B.value&&e.numberPayAmount){e.rechargeSubmitBtnStatus=Ze();return}if(!B.value){e.rechargeSubmitBtnStatus=Ye()&&e.rechargeTypes.length>0;return}e.payTypeLoading&&(e.rechargeSubmitBtnStatus=!1),e.rechargeSubmitBtnStatus=!1}),{store:e,confirmOtherSelectBank:xt,showOtherSelect:qe,getRechargeTypeName:za,handleChangeMenu:la,getRechargeTypes:ca,restAmount:Ke,handleInput:At,formatNum:Bt,handleRecharge:rt,handleQuickSelect:tt,isHaveOrder:Fa,currentPayId:y,numberKeyObj:be,isC2CRecharge:u,isArpay:q,isLocakBank:J,isNumberPay:B,getC2CunitAmount:de,usdtRate:T,trxRate:Y,currentBankName:te,currentPayTypeId:I,placeholder:ja,showArupiAmount:Me,arupiAmountList:He,arupiAmount:Ve,cancelOrder:Ie,amountType:le,handleSelectPayType:at,handleClearInput:Ct,getPayTabList:_e,arPay:Qa,validateBankForm:St,localBankRecharge:fa,submitUsdtRecharge:ft,getUsdtOrderInfo:ga,getLocalUsdtInfo:Xa,handlePaste:Nt,createLocalBankOrder:ha,getLoclBankOrderDetail:Ot,handeCancelOrder:Rt,getAmountList:ht,cancelOrderShow:V,rechargeActionSheetShow:ee,handleFinishOrder:Pt,countdownTimeFun:Ne,countdownRef:sa,setCountdownRef:Te,getBankOrderInfo:Qe,getUpiOrderInfo:ma,handleFinishUpiOrder:bt,getRechargeTab:Ae,historyToDetail:dt,getC2COrderInfo:It,otherRecharge:ea,getRecordList:Ut,htmlToImage:$t,createQrCode:Lt,C2CRecharge:gt,onJumpArUpi:Oe,getTransferBankList:pe,transfer:Ua,isFirstPixRecharge:Sa,isSplitLocalEWallet:Fe,RechargeRList:Ue,handleSelectBank:Dt,getElwallett:Be,IsShowRechargeBankList:oe,handleUpdateUsdtOrder:wt,getOrderDetail:kt,onCancelRechargeOrder:it,isOtherRecharge:ae,currentOtherThirdBankList:De,C2CforbiddenShow:ke,ErrorCount:ne,RemainingLimitTime:xe,C2COrderTimeOutStatus:Ee,C2CTimeOut:Et,thirdRechargeDialog:je,thirdRechargeUrl:ze,getDownTime:va,currentBankList:we,userInfo:S,showAmountError:d,needPixInfo:Da,rnsPay:Ka,isRsnpay:X,arUpiPay:Wa,goToOrderAppeal:ot,goArapiPayToOrderDetail:ct,gotoBanklist:lt,stratPollingQuick:ut,isArUpiPay:H,recordRef:ue,reasonList:E,from:se,getCancellationReasonList:st}},Va=l=>(qa("data-v-7cba6004"),l=l(),xa(),l),$r={class:"Recharge__container-intro"},Lr={key:0,class:"Recharge__container-intro__title"},qr={class:"img"},xr={class:"Recharge__container-intro__lists"},Er={key:0,class:"item"},Gr=["innerHTML"],Mr={class:"red"},Hr={class:"red"},Vr={class:"red"},Fr={key:1,class:"item"},Qr={key:0},Kr={class:"red"},Wr=["innerHTML"],Xr={key:2,class:"item"},jr=Va(()=>r("p",null,"*Số tiền nạp phải là bội số nguyên của 1000",-1)),zr=Va(()=>r("p",null," Lưu ý: nếu tạo lệnh nạp sai với mệnh giá thấp hơn thẻ cào thì hệ thống sẽ tự động cộng vào số tiền mà quý khách đã tạo lệnh,chúng tôi không có trách nhiệm bổ sung số tiền chênh lệch.Xin cảm ơn! ",-1)),Jr={key:3,class:"item"},Zr={key:0},Yr={key:4,class:"item"},en={key:5,class:"item"},an={key:6,class:"item"},tn={key:7,class:"item"},rn=ia({__name:"Instructions",props:{withdrawalsrule:{type:null,required:!1},showType:{type:Number,required:!1,default:0},withdrawMoney:{type:Number,required:!1,default:0},withdrawType:{type:Number,required:!1,default:-1},isShowHead:{type:Boolean,required:!1,default:!1},rechargeInfo:{type:null,required:!1}},setup(l){const m=l,{store:L}=Ha(),W={}.VITE_BASE_VIR,M=v(()=>m.showType===9||m.showType===18||m.showType===10?"bank":m.showType===20?"c2c":m.showType===12?"upi":m.showType===6&&W?"exclusive":m.showType===11||m.showType===16||m.showType===19?"numberCurrency":m.showType===771?"c2cDetail":m.withdrawType!==-1?"":"bank");return(u,q)=>{var H,j,x,S,T,Y,z,oe,B,h,ee,V,ue;const X=ve("svg-icon");return w(),P("div",$r,[u.isShowHead?(w(),P("div",Lr,[r("div",qr,[Q(X,{name:"shuoming"})]),r("p",null,i(u.$t("rechargeInstruction")),1)])):O("v-if",!0),r("div",xr,[[1,3,6].includes(u.withdrawType)?(w(),P("div",Er,[r("p",{innerHTML:u.$t("instructionDes",[_(ie)((H=u.withdrawalsrule)==null?void 0:H.amountofCode)])},null,8,Gr),r("p",null,[K(i(u.$t("instructionTxt6"))+" ",1),r("span",Mr,i((j=u.withdrawalsrule)==null?void 0:j.startTime)+"-"+i((x=u.withdrawalsrule)==null?void 0:x.endTime),1)]),r("p",null,[K(i(u.$t("instructionTxt7")),1),r("span",Hr,i((S=u.withdrawalsrule)==null?void 0:S.withdrawRemainingCount),1)]),r("p",null,[K(i(u.$t("instructionTxt8")),1),r("span",Vr,i(_(ie)((T=u.withdrawalsrule)==null?void 0:T.minPrice))+"-"+i(_(ie)((Y=u.withdrawalsrule)==null?void 0:Y.maxPrice)),1)])])):O("v-if",!0),O(" c2c "),M.value==="c2c"?(w(),P("div",Fr,[r("p",null,i(u.$t("c2cMBAInteger",[(z=u.rechargeInfo)==null?void 0:z.c2cUnitAmount])),1),((oe=u.rechargeInfo)==null?void 0:oe.rechargeRifts)>0?(w(),P("p",Qr,i(u.$t("c2cNEWUPIW",[_(Dr)((B=u.rechargeInfo)==null?void 0:B.rechargeRifts,100)])),1)):O("v-if",!0),r("p",null,[K(i(u.$t("c2cTUAR")),1),r("span",Kr,i(_(ie)((h=u.rechargeInfo)==null?void 0:h.miniPrice))+"-"+i(_(ie)((ee=u.rechargeInfo)==null?void 0:ee.maxPrice)),1)]),r("p",{innerHTML:u.$t("c2cInstructions1")},null,8,Wr)])):O("v-if",!0),O(" 专属 "),M.value==="exclusive"?(w(),P("div",Xr,[r("p",null,"Số tiền nhận được："+i((_(L).amount||0)*Number(_(W))),1),r("p",null,"Phí: "+i((1-_(W))*100)+"%",1),jr,zr])):O("v-if",!0),O(" 一般三方和本地银行充值 "),M.value==="bank"?(w(),P("div",Jr,[r("p",null,i(u.$t("instructionTxt2")),1),r("p",null,i(u.$t("instructionTxt3")),1),r("p",null,i(u.$t("instructionTxt4")),1),u.showType===18?(w(),P("p",Zr,i(u.$t("rechargeBankDetailTip")),1)):O("v-if",!0),r("p",null,i(u.$t("instructionTxt5")),1)])):O("v-if",!0),M.value==="c2cDetail"?(w(),P("div",Yr,[O(" <p>{{ $t('c2cInstructions2') }}</p> "),r("p",null,i(u.$t("c2cInstructions3")),1)])):O("v-if",!0),M.value==="numberCurrency"?(w(),P("div",en,[r("p",null,i(u.$t("instructionsDesc1",[(((V=u.rechargeInfo)==null?void 0:V.miniPrice)||1)+(u.showType===16?"TRX":"USDT"),(((ue=u.rechargeInfo)==null?void 0:ue.miniPrice)||1)+(u.showType===16?"TRX":"USDT")])),1),r("p",null,i(u.$t("instructionsDesc2")),1),r("p",null,i(u.$t("instructionsDesc3")),1),r("p",null,i(u.$t("instructionsDesc4")),1),r("p",null,i(u.$t("instructionsDesc5")),1)])):O("v-if",!0),M.value==="upi"?(w(),P("div",an,[r("p",null,i(u.$t("upiInstructions1")),1),r("p",null,i(u.$t("upiInstructions2")),1)])):O("v-if",!0),u.withdrawType===3?(w(),P("div",tn,[O(" <p>{{ $t('instructionTxt9') }}</p> "),r("p",null,i(u.$t("instructionTxt10")),1),r("p",null,i(u.$t("instructionTxt11")),1)])):O("v-if",!0)])])}}});const nn=oa(rn,[["__scopeId","data-v-7cba6004"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Wallet/Recharge/Instructions.vue"]]),sn={class:"pay_state_step"},on=["src"],ln=ia({__name:"PayState",props:{state:{type:Number,default:1},type:{type:Number,default:1}},setup(l){const m=l,{t:L}=Ba(),W=v(()=>m.type===1?[{img:D("wallet/recharge","setup1"),title:L("transfer")},{img:m.state>=2?D("wallet/recharge","setup2_active"):D("wallet/recharge","setup2"),title:L("uploadproof")},{img:m.state>=3?D("wallet/recharge","setup3_active"):D("wallet/recharge","setup3"),title:L("waitConfirm")},{img:m.state===4?D("wallet/recharge","setup4_active"):D("wallet/recharge","setup4"),title:L("completed")}]:[{img:D("wallet/recharge","appeal_state"),title:L("c2cTip32")},{img:m.state>=3?D("wallet/recharge","setup3_active"):D("wallet/recharge","setup3"),title:L("amountError2")},{img:m.state===4?D("wallet/recharge","setup4_active"):D("wallet/recharge","setup4"),title:L("completed")}]);return(M,u)=>(w(),P("div",sn,[(w(!0),P(Ea,null,Ga(W.value,(q,X)=>(w(),P("div",{class:Xe(["item",{appeal:l.type===2}]),key:X},[r("img",{src:q.img,alt:""},null,8,on),r("span",null,i(q.title),1)],2))),128))]))}});const cn=oa(ln,[["__scopeId","data-v-d8d9a23f"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/wallet/OtherPay/components/PayState.vue"]]),Z=l=>(qa("data-v-5bada7e8"),l=l(),xa(),l),un={class:"other_pay"},dn={key:0,class:"pay_store"},pn=["onClick"],yn=["src"],fn=Z(()=>r("div",{class:"tip"},[r("div",null,"have you paid successfully?"),r("div",null,"Paytm,PhonePe,GooglePay,Other Bank")],-1)),mn={class:"orderInfo"},gn={key:0,class:"info_item"},hn={class:"info_item"},vn=Z(()=>r("span",null,"UPI ID",-1)),kn={key:1,class:"info_item"},In=Z(()=>r("span",null,"UTR",-1)),Tn={class:"info_item"},bn={key:2},wn=["src"],_n={key:3},On=Z(()=>r("div",{class:"UTR_title"},"UTR(UPI Ref.ID)",-1)),Pn={class:"c2cupload_box"},Rn={class:"c2cupload_tip"},Cn=["src"],Un={class:"upload_action"},Sn={class:"upload_btn"},Dn={class:"upload_text"},An=Z(()=>r("br",null,null,-1)),Bn={key:2,class:"pay_btn"},Nn={key:3,class:"c2c_btn"},$n={class:"actionSheet__content"},Ln={class:"title"},qn=["src"],xn={class:"sheet_info"},En={class:"info_item sheet_item"},Gn=Z(()=>r("span",null,"UPI ID",-1)),Mn={class:"sheet_right"},Hn={class:"info_item sheet_item"},Vn=Z(()=>r("span",null,"UTR",-1)),Fn={class:"sheet_right"},Qn={class:"info_item sheet_item"},Kn={class:"sheet_amount"},Wn={class:"finish_tit"},Xn={class:"finish_tip"},jn={class:"pay_btn"},zn={class:"c2c_actiosheet"},Jn=["src"],Zn=Z(()=>r("div",{class:"text"},[K("*Confirm using "),r("span",null,"your own UPI"),K(" for the transfer")],-1)),Yn=Z(()=>r("div",{class:"text"},[K(" *After a successful transfer, return here and provide the "),r("span",null,"12-digit Ref/UTR No"),K(". for the deposit into your account. ")],-1)),es=Z(()=>r("div",{class:"video_text"},"DEMO VIDEO >>",-1)),as=Z(()=>r("div",{class:"text2"},"Sample of UTR(UPI Ref.ID)",-1)),ts={class:"img_box"},rs=["src"],ns={class:"close_box"},ss=ia({__name:"index",setup(l){const{store:m,getUpiOrderInfo:L,handleFinishUpiOrder:W,getC2COrderInfo:M,handeCancelOrder:u,createQrCode:q,htmlToImage:X,getDownTime:H,C2COrderTimeOutStatus:j}=Ha(),x=Na(),S=g(!1),T=g(),Y=g(!1),z=g(),oe=g(""),B=g(!1),h=g(1),ee=g([]),V=g(""),ue=g(),Ue=g(""),qe=[{name:"Paytm",icon:D("wallet/recharge","paytm"),id:1,url:"paytmmp://upi"},{name:"PhonePe",icon:D("wallet/recharge","phone_pe"),id:2,url:"phonepe://pay"},{name:"GooglePay",icon:D("wallet/recharge","google_pay"),id:3,url:"gpay://upi"},{name:"Other Bank",icon:D("wallet/recharge","other_bank"),id:4,url:"upi://pay"}],ke=g({fileType:1,fileUrl:""}),ne=v(()=>x.currentRoute.value.query.type==="C2C"),xe=p=>{window.open(p,"_blank")};v(()=>h.value===2?Le("common","upload_icon"):h.value===3?D("common","switch"):Le("common","upload_icon"));const Ee=async p=>{ee.value=[];const d=new FormData;d.append("files",p.file);const E=await b(Ar(d));V.value=E.data[0].ossHttp+"/"+E.data[0].src,ke.value.fileUrl=E.data[0].src},je=()=>{j.value=!1,x.back()},ze=()=>{S.value=!1},Ge=()=>{m.localUpiUTR.length<12||(S.value=!0)},Me=()=>{x.back()},He=v(()=>x.currentRoute.value.query.type),Ve=()=>{if(ne.value&&h.value===1){if(m.localUpiUTR.length<12)return;h.value=2}else Ge()},le=async p=>{if(m.localUpiUTR.length!==12){Y.value=!0;return}await W(x.currentRoute.value.query.type,p,ke.value.fileUrl),S.value=!1},Ie=()=>{var p,d;x.currentRoute.value.query.type==="upi"?u(((p=T.value)==null?void 0:p.orderNumber)+""):x.push({name:"CancelRecharge",query:{orderNo:(d=T.value)==null?void 0:d.id}})},Se=async()=>{if(await M(),T.value=m.C2COrderInfo,m.isC2COrder=!1,!T.value){j.value=!0,clearInterval(z.value);return}let p=H(T.value.serviceTime,T.value.endTime);z.value=setInterval(()=>{p-=1e3,p<0&&(j.value=!0,clearInterval(z.value)),oe.value=Ma(p,"mm:ss")},1e3)};return Ft(async()=>{var se,Te,be,de;let p=x.currentRoute.value.query.type;z.value=null;let d="";p==="upi"?(await L(),T.value=m.upiOrderInfo,d="upi://pay?pa="+((se=T.value)==null?void 0:se.upiAccount)+"&am="+((Te=T.value)==null?void 0:Te.amount)+"&cu=INR",console.log(d)):(B.value=!0,await Se(),d="upi://pay?pa="+((be=T.value)==null?void 0:be.sellerAccountNo)+"&am="+((de=T.value)==null?void 0:de.orderAmount)+"&cu=INR");const E=await q(d);Ue.value=E,q(d)}),$a(()=>{clearInterval(z.value)}),Qt(()=>{sessionStorage.removeItem("upiOrderInfo"),clearInterval(z.value)}),(p,d)=>{var ce,y,J,N;const E=ve("NavBar"),se=ve("svg-icon"),Te=ve("van-field"),be=ve("van-uploader"),de=ve("van-divider"),pe=ve("van-action-sheet");return w(),P("div",un,[Q(E,{class:"white",title:p.$t("payments"),"left-arrow":"",onClickLeft:Me},null,8,["title"]),ne.value?(w(),wa(cn,{key:1,state:h.value},null,8,["state"])):(w(),P("div",dn,[(w(),P(Ea,null,Ga(qe,I=>r("div",{class:"store_item",key:I.id,onClick:ae=>xe(I.url)},[r("img",{src:I.icon,alt:""},null,8,yn),r("span",null,i(I.name),1)],8,pn)),64))])),fn,r("div",mn,[ne.value?(w(),P("div",gn,[r("span",null,i(p.$t("expiredTimes")),1),r("div",null,i(oe.value),1)])):O("v-if",!0),r("div",hn,[vn,r("div",null,[r("span",null,i(((ce=T.value)==null?void 0:ce.upiAccount)||((y=T.value)==null?void 0:y.sellerAccountNo)||"--"),1),Q(se,{name:"copy",onClick:d[0]||(d[0]=I=>{var ae,te;return _(Ra)(((ae=T.value)==null?void 0:ae.sellerAccountNo)||((te=T.value)==null?void 0:te.upiAccount))})})])]),h.value!==1?(w(),P("div",kn,[In,r("div",null,[r("span",null,i(_(m).localUpiUTR),1)])])):O("v-if",!0),r("div",Tn,[r("span",null,i(p.$t("amount")),1),r("div",null,i(_(ie)((J=T.value)==null?void 0:J.orderAmount)||((N=T.value)==null?void 0:N.amount)||"--"),1)]),h.value===1||!ne.value?(w(),P("div",bn,[r("img",{class:"qrcode",src:Ue.value,id:"qrcode"},null,8,wn),r("div",{class:"save_qrcode",onClick:d[1]||(d[1]=I=>_(X)("qrcode"))},i(p.$t("saveTheQRCode")),1)])):O("v-if",!0),O(` <img class="qrcode" :src="codeUrl" id="qrcode" />
			<div class="save_qrcode" @click="htmlToImage('qrcode')">{{ $t('saveTheQRCode') }}</div> `),h.value===1?(w(),P("div",_n,[On,Q(Te,{modelValue:_(m).localUpiUTR,"onUpdate:modelValue":d[3]||(d[3]=I=>_(m).localUpiUTR=I),class:"info_item",type:"digit",placeholder:"Please enter a 12-digit UTR",maxlength:12},{"right-icon":Pe(()=>[Q(se,{name:"copy",alt:"",onClick:d[2]||(d[2]=I=>_(Ra)(_(m).localUpiUTR))})]),_:1},8,["modelValue"])])):O("v-if",!0),h.value===1?(w(),wa(nn,{key:4,showType:ne.value?771:12,isShowHead:!0},null,8,["showType"])):O("v-if",!0)]),r("div",Pn,[r("div",Rn,[r("div",null,i(p.$t("C2Cuploadtip3")),1),r("div",null,i(p.$t("C2Cuploadtip4")),1)]),r("div",{class:Xe(["upload_img",{noAdd:!!V.value}]),onClick:d[4]||(d[4]=()=>{ue.value.chooseFile()})},[V.value?(w(),P("img",{key:0,src:V.value,alt:""},null,8,Cn)):O("v-if",!0)],2),r("div",Un,[Q(be,{ref_key:"uploadRef",ref:ue,"max-size":5e3*1024,onOversize:d[5]||(d[5]=()=>_(La)(p.$t("C2Cuploadtip2"))),modelValue:ee.value,"onUpdate:modelValue":d[6]||(d[6]=I=>ee.value=I),accept:"image/*","after-read":Ee,"preview-image":!1},{default:Pe(()=>[r("div",Sn,[Q(se,{name:"uploadIcon"}),O(' <img :src="uploadBtnIcon" /> '),r("span",null,i(h.value===2&&ee.value.length===0?p.$t("uploadImg"):p.$t("changeImage")),1)])]),_:1},8,["modelValue"]),r("div",Dn,[K(i(p.$t("C2Cuploadtip1")),1),An,K(" "+i(p.$t("C2Cuploadtip2")),1)])])]),h.value===1?(w(),P("div",Bn,[r("div",{class:"cancel_order",onClick:Ie},i(p.$t("concelOrder")),1),r("div",{class:Xe(["finish",{unfinish:_(m).localUpiUTR.length<12}]),onClick:Ve},i(ne.value&&h.value===1?p.$t("nextStep"):p.$t("rechargeDetailDesc6")),3)])):O("v-if",!0),h.value!==1?(w(),P("div",Nn,[r("div",{class:Xe(["c2cFinish",{no_finish:!V.value}]),onClick:d[7]||(d[7]=()=>{var I;V.value&&_(W)("c2c",(I=T.value)==null?void 0:I.id,[ke.value])})},i(p.$t("rechargeDetailDesc6")),3),r("div",{class:"backPay",onClick:d[8]||(d[8]=I=>h.value=1)},i(p.$t("backPay")),1)])):O("v-if",!0),Q(pe,{show:S.value,"onUpdate:show":d[11]||(d[11]=I=>S.value=I),onClickOverlay:ze},{default:Pe(()=>{var I,ae,te,we;return[r("div",$n,[r("div",Ln,[r("img",{src:_(Le)("wallet","upi"),alt:""},null,8,qn),r("span",null,i((He.value==="upi"?"Local UPI ":"NEW UPI ")+p.$t("recharge")),1)]),Q(de),r("div",xn,[r("div",En,[Gn,r("div",Mn,i(((I=T.value)==null?void 0:I.sellerAccountNo)||((ae=T.value)==null?void 0:ae.upiAccount)),1)]),r("div",Hn,[Vn,r("div",Fn,i(_(m).localUpiUTR),1)]),r("div",Qn,[r("span",null,i(p.$t("amount")),1),r("div",Kn,i(_(ie)(((te=T.value)==null?void 0:te.orderAmount)||((we=T.value)==null?void 0:we.amount))),1)])]),r("div",Wn,i(p.$t("rechargeDetailDesc8")),1),r("div",Xn,i(p.$t("rechargeDetailDesc11")),1),r("div",jn,[r("div",{class:"cancel_order",onClick:d[9]||(d[9]=De=>S.value=!1)},i(p.$t("rechargeDetailDesc7")),1),r("div",{class:"finish",onClick:d[10]||(d[10]=De=>{var Fe,Ae;return le(((Fe=T.value)==null?void 0:Fe.id)||((Ae=T.value)==null?void 0:Ae.orderNumber))})},i(p.$t("rechargeDetailDesc8")),1)])])]}),_:1},8,["show"]),Q(pe,{title:" ",show:B.value,"onUpdate:show":d[13]||(d[13]=I=>B.value=I),onClickOverlay:d[14]||(d[14]=I=>B.value=!1),closeable:!0},{default:Pe(()=>[r("div",zn,[r("img",{src:_(D)("common","close"),class:"close_img"},null,8,Jn),Zn,Yn,es,as,r("div",ts,[r("img",{src:_(D)("wallet/recharge","C2Chelp"),alt:"",class:"help_img"},null,8,rs)]),r("div",ns,[r("div",{class:"close_btn",onClick:d[12]||(d[12]=I=>B.value=!1)},i(p.$t("close")),1)])])]),_:1},8,["show"]),Q(Ca,{show:Y.value,"onUpdate:show":d[15]||(d[15]=I=>Y.value=I),showCancelBtn:!1,title:p.$t("UTRError"),"confirm-text":"OK",confirm:Y.value=!1},{content:Pe(()=>[K(i(p.$t("c2cTip16")),1)]),_:1},8,["show","title","confirm"]),Q(Ca,{show:_(j),"onUpdate:show":d[16]||(d[16]=I=>Kt(j)?j.value=I:null),showCancelBtn:!1,title:p.$t("C2Ctimeout1"),"confirm-text":"OK",onConfirm:je},{content:Pe(()=>[K(i(p.$t("C2Ctimeout2")),1)]),_:1},8,["show","title"])])}}});const is=oa(ss,[["__scopeId","data-v-5bada7e8"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/wallet/OtherPay/index.vue"]]),ds=Object.freeze(Object.defineProperty({__proto__:null,default:is},Symbol.toStringTag,{value:"Module"}));export{cn as C,nn as I,ds as i,Ha as u};
