import{G as ne,R as te,r as c,C as ue,H as F,aA as fe,I as _,ax as y,ay as C,Q as l,J as e,P as s,O as n,ap as ve,ao as N,av as H,aC as ge,aD as he,N as u,aF as $e,z as ie,a7 as Pe,B as me,au as we,aB as _e,K as Ce,F as ee,u as R,A as ye,p as Se}from"./common.modules-f9fa5dc7.js";import{a as Ne,E as Te,b as Be,v as Q,c as X,P as de,d as Ee,V as Ie}from"./page-login-index.vue_vue_type_script_setup_true_lang.ts-a2f56444.js";import{G as le,a4 as Ve,A,cf as Me,b as se,cg as Ue,L as pe,_ as oe,a3 as re,c0 as xe,ch as Le,g as Y,J as De,c as ae,bJ as Re,ci as Ae,bK as Oe,bF as Z,cj as Fe,ck as je,b$ as be,cl as Ge,cm as ze,cn as qe,co as We,bE as Je}from"./page-activity-ActivityDetail-5a5f2722.js";import{D as Ke}from"./page-main-GoogleVerify-df6c02cd.js";import{D as He}from"./page-activity-Championship-a16bb0a5.js";import{D as ke}from"./page-home-other-87102155.js";const ce=L=>(ge("data-v-5bd44e74"),L=L(),he(),L),Qe={class:"userInfo__container-content"},Xe={class:"userInfo__container-content-wrapper"},Ye=["src"],Ze={class:"userInfo__container-content__name"},en={class:"userInfo__container-content-nickname"},nn=["src"],tn={class:"userInfo__container-content-uid"},on=ce(()=>e("span",null,"UID",-1)),sn=ce(()=>e("span",null,"|",-1)),an={class:"userInfo__container-content-logintime"},ln={class:"userInfo__container-content-logintime"},rn=ce(()=>e("span",null," ",-1)),cn=[rn],dn={class:"userInfo__container-setting-center"},un={class:"userInfo__container-content__avatar"},vn=["data-img"],mn={class:"userInfo__container-setting-center-content"},_n=ce(()=>e("h5",null,"UID",-1)),pn={class:"info-dialog-content-title"},fn=["placeholder"],gn=ne({__name:"index",props:{userInfo:{type:null,required:!0}},setup(L){const o=L,T=le(),d=T.getUserInfo,{setLoading:O}=Ve(),t=te(),a=c(!1),h=c(!1);function V(p){a.value=p}function b(p){t.push({name:"Avatar"})}ue(()=>{t.currentRoute.value.name==="SettingCenter"?h.value=!0:(h.value=!1,m())});const v=c(!1),g=c();async function m(){O(!0);const p=await A(Me());p&&(g.value=p.data),O(!1)}async function S(){if(o.userInfo.nickName.trim()==="")return v.value=!0,a.value=!0,!1;if(o.userInfo.nickName.trim().length>12)return v.value=!0,a.value=!0,!1;v.value=!1,a.value=!1,await A(Ue({nikeName:o.userInfo.nickName}))&&T.setUserInfo({...o.userInfo})}function k(){t.go(-1)}const D=(p,r)=>{p=se("images","avatar1");let $=document.querySelector(`.${r}`);$.src=p},M=c(se("main/Avatar",o.userInfo.userPhoto));return(p,r)=>{var j,G;const $=F("NavBar"),i=F("svg-icon"),U=F("van-icon"),B=fe("lazy");return u(),_("div",{class:ve(["userInfo__container",{"setting-page-container":h.value}])},[y(l($,{title:p.$t("settingCenter"),class:"main",placeholder:!1,"left-arrow":"",onClickLeft:k},null,8,["title"]),[[C,h.value]]),y(e("div",Qe,[e("div",Xe,[e("div",{class:"userInfo__container-content__avatar",onClick:r[1]||(r[1]=w=>b())},[e("img",{src:M.value,class:"userAvatar",onError:r[0]||(r[0]=w=>D(M.value,"userAvatar"))},null,40,Ye)]),e("div",Ze,[e("div",en,[e("h3",null,s((j=n(d).nickName)==null?void 0:j.toUpperCase()),1),e("div",{class:ve(["n"+((G=g.value)==null?void 0:G.vipLevel)])},null,2),y(e("img",{class:"editPencil",onClick:r[2]||(r[2]=w=>V(!0)),src:n(se)("main","editPencil")},null,8,nn),[[C,h.value]])]),e("div",tn,[on,sn,e("span",null,s(n(d).userId),1),l(i,{onClick:r[3]||(r[3]=w=>n(pe)(n(d).userId.toString())),name:"copy"})]),y(e("div",an,[e("span",null,s(p.$t("lastLoginTime"))+" ",1),y(e("span",null,s(n(d).userLoginDate),513),[[C,n(d).userLoginDate]])],512),[[C,!h.value]]),y(e("div",ln,cn,512),[[C,h.value]])])]),N(` <div v-show="!isSettingPage" class="userInfo__container-content-right">
				<img v-lazy="getIcons('main', 'myCoin')" alt="" />
				<span>我的金币</span>
			</div> `),y(e("div",{class:"userInfo__container-content-right",onClick:r[4]||(r[4]=w=>b())},[e("h5",null,s(p.$t("changeAvatar")),1)],512),[[C,h.value]])],512),[[C,!h.value]]),y(e("div",dn,[e("div",{class:"userInfo__container-setting-center-header",onClick:r[6]||(r[6]=w=>b())},[e("div",un,[y(e("img",{"data-img":n(se)("images","avatar1")},null,8,vn),[[B,M.value]])]),e("div",{class:"userInfo__container-setting-center-header-edit",onClick:r[5]||(r[5]=w=>b())},[e("span",null,s(p.$t("changeAvatar")),1),l(U,{name:"arrow",color:"#888"})])]),e("div",{class:"userInfo__container-setting-center-content ar-1px-b",onClick:r[9]||(r[9]=w=>V(!0))},[e("h5",null,s(p.$t("nickName")),1),e("div",{onClick:r[8]||(r[8]=w=>V(!0))},[e("span",null,s(n(d).nickName),1),l(U,{name:"arrow",color:"#888",onClick:r[7]||(r[7]=w=>V(!0))})])]),e("div",mn,[_n,e("div",null,[e("span",null,s(n(d).userId),1),l(i,{name:"copy",onClick:r[10]||(r[10]=w=>n(pe)(n(d).userId.toString()))})])])],512),[[C,h.value]]),l(Ke,{show:a.value,"onUpdate:show":r[12]||(r[12]=w=>a.value=w),onConfirm:S,title:p.$t("editNickname")},{content:H(()=>[e("div",pn,[l(i,{name:"dialogNickname"}),e("span",null,s(p.$t("nickName")),1)]),y(e("input",{type:"text","auto-complete":"new-password",autocomplete:"off",name:"username","onUpdate:modelValue":r[11]||(r[11]=w=>n(d).nickName=w),placeholder:p.$t("tipEnterNickname")},null,8,fn),[[$e,n(d).nickName]]),y(e("h4",null,s(p.$t("tipDoNotEnterUnvalideNickname")),513),[[C,v.value]])]),_:1},8,["show","title"])],2)}}});const hn=oe(gn,[["__scopeId","data-v-5bd44e74"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Main/UserInformation/index.vue"]]),wn=L=>(ge("data-v-6af1b9df"),L=L(),he(),L),yn={class:"content setting-wrapper"},bn={class:"setting-items-wrapper"},kn={class:"content-sub_title"},$n={class:"phone_container"},Pn={class:"phone_container-item-left"},Cn={class:"icon"},Sn={class:"phone_container-item-right"},Nn={class:"setting_container"},Tn={key:0,class:"phone_container-item-left"},Bn=["src"],En={key:1,class:"phone_container-item-left"},In=["src"],Vn={key:2,class:"phone_container-item-right"},Mn={key:3,class:"phone_container-item-right"},Un={key:0,class:"phoneright"},xn={key:1,class:"phoneright"},Ln={key:0,class:"phone_container-item-left"},Dn={class:"icon email"},Rn={key:1,class:"phone_container-item-left"},An={class:"icon email"},On={key:2,class:"phone_container-item-right"},Fn={key:0,class:"emailright"},jn={key:1,class:"emailright"},Gn={key:3,class:"phone_container-item-right"},zn={class:"icon"},qn={key:0,class:"green"},Wn={key:1},Jn={class:"setting_container_item"},Kn={class:"icon"},Hn=wn(()=>e("h5",null,"1.0.9",-1)),Qn=["src"],Xn={class:"setting-records-modal"},Yn={class:"idlockTip"},Zn=ne({__name:"index",setup(L){const{t:o}=ie(),T=Pe(Le,500),d=te(),O=re(),t=le();O.getUserInfo({signature:t.token});const a=t.getUserInfo,h=c(!1);function V(){localStorage.setItem("toPath","ResetPassword"),d.push({name:"SettingCenter-LoginPassword"})}const b=me(()=>{var $;return($=a==null?void 0:a.verifyMethods)==null?void 0:$.email}),v=me(()=>{var $;return($=a==null?void 0:a.verifyMethods)==null?void 0:$.mobile}),g=!!a.googleVerify,m=c(!1),S=()=>{a.googleVerify===1?m.value=!0:d.push({name:"GoogleVerify"})},k=$=>{D($)},D=async $=>{var U,B;const i=await A(xe({verifyCode:$,verifyType:3}));(U=i==null?void 0:i.data)!=null&&U.secret&&d.push({name:"GoogleVerify-BindGoogle",query:{secret:(B=i.data)==null?void 0:B.secret,type:1}})},M=c(!1),p=()=>{M.value=!0},r=async()=>{(await A(Ae())).code==0&&(M.value=!1,ee(o("delete")+o("success")))};return($,i)=>{var w,z,q,W,E,I,P,f,J,x;const U=F("svg-icon"),B=F("van-icon"),j=F("van-button"),G=fe("haspermission");return u(),_(Ce,null,[l(hn,{userInfo:n(a)},null,8,["userInfo"]),e("div",yn,[e("div",bn,[e("div",kn,[e("div",null,s(n(o)("securityInfo")),1)]),e("div",$n,[e("div",{class:"phone_container-item",onClick:V},[e("div",Pn,[e("figure",Cn,[l(U,{name:"editIcon"})]),e("span",null,s(n(o)("loginPSW")),1)]),e("div",Sn,[e("span",null,s(n(o)("edit")),1),l(B,{name:"arrow",color:"#888"})])])]),e("div",Nn,[((w=n(a))==null?void 0:w.regType)==2?(u(),_("div",{key:0,class:"phone_container-item setting_container_item ar-1px-b",onClick:i[0]||(i[0]=K=>n(d).push({name:"SettingCenter-UpdatePhone"}))},[v.value==""?(u(),_("div",Tn,[e("img",{src:n(Y)("main","editPhoneIcon")},null,8,Bn),e("span",null,s(n(o)("bindPhone")),1)])):N("v-if",!0),v.value!=""?(u(),_("div",En,[e("img",{src:n(Y)("main","editPhoneIcon")},null,8,In),e("span",null,s(n(o)("changephone")),1)])):N("v-if",!0),v.value!=""?(u(),_("div",Vn,[e("span",null,s(n(De)((q=(z=n(a))==null?void 0:z.verifyMethods)==null?void 0:q.mobile)),1),l(B,{name:"arrow",color:"#888"})])):N("v-if",!0),v.value==""?(u(),_("div",Mn,[((W=n(a))==null?void 0:W.bindReward)>0?(u(),_("div",Un,[e("div",null,s(n(o)("award")),1),e("div",null,s(n(ae)((E=n(a))==null?void 0:E.bindReward)),1)])):(u(),_("div",xn,[e("div",null,s(n(o)("tobind")),1)])),l(B,{name:"arrow",color:"#888"})])):N("v-if",!0)])):N("v-if",!0),((I=n(a))==null?void 0:I.regType)==1?(u(),_("div",{key:1,class:"phone_container-item setting_container_item",onClick:i[1]||(i[1]=K=>n(d).push({name:"SettingCenter-BindEmail"}))},[b.value==""?(u(),_("div",Ln,[e("figure",Dn,[l(U,{name:"messageIcon"})]),e("span",null,s(n(o)("bindEmail")),1)])):N("v-if",!0),b.value!=""?(u(),_("div",Rn,[e("figure",An,[l(U,{name:"email"})]),e("span",null,s(n(o)("email")),1)])):N("v-if",!0),b.value==""?(u(),_("div",On,[((P=n(a))==null?void 0:P.bindReward)>0?(u(),_("div",Fn,[e("div",null,s(n(o)("award")),1),e("div",null,s(n(ae)((f=n(a))==null?void 0:f.bindReward)),1)])):(u(),_("div",jn,[e("div",null,s(n(o)("tobind")),1)])),l(B,{name:"arrow",color:"#888"})])):N("v-if",!0),b.value!=""?(u(),_("div",Gn,[e("span",null,s(n(Re)((x=(J=n(a))==null?void 0:J.verifyMethods)==null?void 0:x.email)),1),l(B,{name:"arrow",color:"#888"})])):N("v-if",!0)])):N("v-if",!0),y(e("div",{class:"setting_container_item",onClick:S},[e("div",null,[e("figure",zn,[l(U,{name:"googleIcon"})]),e("span",null,s(n(o)("googleVerify")),1)]),e("div",null,[n(g)?(u(),_("span",qn,s(n(o)("turnedOn")),1)):(u(),_("span",Wn,s(n(o)("unopened")),1)),l(B,{name:"arrow",color:"#888"})])],512),[[C,n(a).isGoogle==="1"]]),e("div",Jn,[e("div",null,[e("figure",Kn,[l(U,{name:"versionUpdateIcon"})]),e("span",null,s(n(o)("updateNewVersion")),1)]),e("div",null,[Hn,l(B,{name:"arrow",color:"var(--text_color_L2)"})])])]),h.value?(u(),we(j,{key:0,class:"cg-default",block:"",round:"",size:"large",color:"var(--main_gradient-color2)",onClick:n(T)},{icon:H(()=>[e("img",{src:n(Y)("main","clear")},null,8,Qn)]),default:H(()=>[_e(" "+s(n(o)("clearcache")),1)]),_:1},8,["onClick"])):N("v-if",!0)])]),y((u(),_("div",{class:"delAllRq",onClick:p},[_e(s(n(o)("delAllBtn")),1)])),[[G,19]]),N(" 验证弹窗 "),l(Ne,{showPopup:m.value,onOnConfirm:k,onOnBack:i[2]||(i[2]=K=>m.value=!1)},null,8,["showPopup"]),e("div",Xn,[l(He,{show:M.value,"onUpdate:show":i[4]||(i[4]=K=>M.value=K),"show-cancel-btn":!0,title:n(o)("delAllTip1")},{content:H(()=>[e("div",Yn,s(n(o)("delAllTip2")),1)]),footer:H(()=>[e("div",{class:"dialogBtn",onClick:r},s(n(o)("confirmDelete")),1),e("div",{class:"dialogBtn",onClick:i[3]||(i[3]=K=>M.value=!1)},s(n(o)("cancel")),1)]),_:1},8,["show","title"])])],64)}}});const et=oe(Zn,[["__scopeId","data-v-6af1b9df"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/SettingCenter/index.vue"]]),Vt=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"})),nt={class:"bind-container"},tt={class:"email-container"},ot={class:"updateP-container-tips"},st={class:"bind-button"},at={key:0,class:"Laundry-Con"},it={class:"Laundry-Con_tip"},lt={class:"reward"},rt={class:"money"},ct=ne({__name:"index",setup(L){var j,G,w,z,q,W;const{t:o}=ie(),T=te(),d=re(),t=le().getUserInfo,a=c("bindemail"),h=c(!0),V=c(!1),b=c(!1),v=c("");v.value=((j=t==null?void 0:t.verifyMethods)==null?void 0:j.email)!=""?"updateEmail":"bindEmail";const g=c("");g.value=((G=t==null?void 0:t.verifyMethods)==null?void 0:G.email)!=""?o("safetyVerification"):o("bindEmail");const m={email:""},S=c("");m.email=(w=t==null?void 0:t.verifyMethods)==null?void 0:w.email;const k=c(!1);k.value=((z=t==null?void 0:t.verifyMethods)==null?void 0:z.email)=="";const D=c(!0);D.value=((q=t==null?void 0:t.verifyMethods)==null?void 0:q.email)!="";const M=c(!1);M.value=((W=t==null?void 0:t.verifyMethods)==null?void 0:W.email)=="";const p=()=>{T.go(-1)},r=E=>{m.email=E},$=async()=>{var I;if(v.value=="bindEmail"){if(!Q.email1.test(m.email))return d.setCountEmailDown(0),R({message:o(X.email),wordBreak:"break-word"})}else if(!Q.email1.test((I=t==null?void 0:t.verifyMethods)==null?void 0:I.email))return d.setCountEmailDown(0),R({message:o(X.email),wordBreak:"break-word"});await A(Oe({email:m.email,emailType:k.value?Z.bindEmailMmobile:Z.resetEmailMmobile}))?ee(o("sendSuccess")):d.setCountEmailDown(0)},i=async()=>{if(!Q.email1.test(m.email))return R({message:o(X.email),wordBreak:"break-word"});if(!S.value.trim())return R({message:o("noVerifyCodeFound"),wordBreak:"break-word"});await A(Fe({email:m.email,code:S.value,type:Z.resetEmailMmobile}))&&(v.value="bindEmail",g.value=o("bindEmail"),D.value=!1,V.value=!1,k.value=!0,h.value=!1,M.value=!0,S.value="",m.email="",d.setCountEmailDown(0)),V.value=!1},U=async()=>{var I;if(!Q.email1.test(m.email))return R({message:o(X.email),wordBreak:"break-word"});if(!S.value.trim())return R({message:o("noVerifyCodeFound"),wordBreak:"break-word"});await A(je({email:m.email,emailvCode:S.value}))&&(((I=t==null?void 0:t.verifyMethods)==null?void 0:I.email)!=""?(ee(o("rpdsucceed")),T.push({name:"main"})):b.value=!0)},B=()=>{T.push({name:"main"}),b.value=!1};return ue(()=>{d.setCountEmailDown(0)}),(E,I)=>{const P=F("NavBar");return u(),_("div",nt,[l(P,{title:g.value,class:"white","left-arrow":"",onClickLeft:p},null,8,["title"]),e("div",tt,[y(e("div",null,[l(Te,{ref:"email",type:a.value,email:m.email,onChangeN:r},null,8,["type","email"])],512),[[C,k.value]]),l(Be,{value:S.value,"onUpdate:value":I[0]||(I[0]=f=>S.value=f),isShowVerifyT:h.value,typeP:v.value,sendFunc:$,email:m.email},null,8,["value","isShowVerifyT","typeP","email"]),y(e("div",ot,[e("span",null,s(E.$t("tipVerifyCodeRequired")),1)],512),[[C,V.value]]),e("div",st,[y(e("button",{onClick:i},s(E.$t("nextStep")),513),[[C,D.value]]),y(e("button",{onClick:U},s(E.$t("toBind")),513),[[C,M.value]])])]),l(ke,{show:b.value,"onUpdate:show":I[1]||(I[1]=f=>b.value=f),onConfirm:B,"show-cancel-btn":!1,confirmText:"confirm",picname:n(Y)("public","succeed"),title:E.$t("bindsuccess")},{content:H(()=>{var f,J;return[((f=n(t))==null?void 0:f.bindReward)>0?(u(),_("div",at,[e("div",it,[e("div",lt,s(E.$t("award")),1),e("div",rt,s(n(ae)((J=n(t))==null?void 0:J.bindReward)),1)])])):N("v-if",!0)]}),_:1},8,["show","picname","title"])])}}});const dt=oe(ct,[["__scopeId","data-v-eca8202a"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/SettingCenter/BindEmail/index.vue"]]),Mt=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"})),ut={class:"LoginP-container"},vt={class:"LoginP-container-form"},mt={class:"LoginP-container-tips"},_t={class:"LoginP-container-button"},pt=ne({__name:"index",setup(L){let o=ye({oldPwd:"",newPwd:"",confirmNewPwd:""});const T=re();T.getRegisterState();const{t:d}=ie(),O=c(!1),t=te();async function a(){if(!Q.passReg3.test(o.newPwd))return R({message:d(X.passReg2),wordBreak:"break-word"});if(o.newPwd!==o.confirmNewPwd){O.value=!0;return}else O.value=!1;await A(Ge(o))&&(Se(d("rpdsucceed")),localStorage.clear(),t.push("/login"))}function h(){t.push({name:"rpwd"})}const{isSmSForgetPasswordState:V,registerState:b}=be();return b(),(v,g)=>{const m=F("NavBar"),S=F("van-icon");return u(),_("div",ut,[l(m,{title:v.$t("titleEditPsw"),class:"white","left-arrow":"",onClickLeft:g[0]||(g[0]=k=>n(t).go(-1))},null,8,["title"]),e("div",vt,[l(de,{value:n(o).oldPwd,"onUpdate:value":g[1]||(g[1]=k=>n(o).oldPwd=k),label:v.$t("oldPSW"),maxlength:32},null,8,["value","label"]),l(de,{value:n(o).newPwd,"onUpdate:value":g[2]||(g[2]=k=>n(o).newPwd=k),label:v.$t("newPSW")},null,8,["value","label"]),l(de,{class:"mgb48",value:n(o).confirmNewPwd,"onUpdate:value":g[3]||(g[3]=k=>n(o).confirmNewPwd=k),label:v.$t("confirmPSW")},null,8,["value","label"]),y(e("div",mt,[e("span",null,s(v.$t("tipUnmatchPsw")),1)],512),[[C,O.value]]),N(`
				功能暂时不可用且跳转 重置密码页有bug
			`),n(T).isOpenForgetPasswordEmailState||n(T).isOpenForgetPasswordSMSState?(u(),_("div",{key:0,class:"LoginP-container-remember",onClick:h},[e("span",null,s(v.$t("forgotOldPSW")),1),l(S,{name:"arrow",color:"var(--text_color_L2)"})])):(u(),_("div",{key:1,class:"LoginP-container-remember",onClick:g[4]||(g[4]=k=>n(t).push({name:"CustomerService"}))},[e("span",null,s(v.$t("contactServicer")),1),l(S,{name:"arrow",color:"var(--text_color_L2)"})])),e("div",_t,[e("button",{onClick:a},s(v.$t("saveChanges")),1)])])])}}});const ft=oe(pt,[["__scopeId","data-v-5beab1ae"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/SettingCenter/LoginPassword/index.vue"]]),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"})),gt={class:"updateP-container"},ht={class:"updateP-container-tips"},wt={class:"updateP-container-button"},yt={key:0,class:"Laundry-Con"},bt={class:"Laundry-Con_tip"},kt={class:"reward"},$t={class:"money"},Pt=ne({__name:"index",setup(L){var z,q,W,E,I;const{t:o}=ie(),T=te(),d=re(),t=le().getUserInfo,a=c(!1);a.value=((z=t==null?void 0:t.verifyMethods)==null?void 0:z.mobile)=="";const h=c(!1),V=c(!1);V.value=((q=t==null?void 0:t.verifyMethods)==null?void 0:q.mobile)!="";const b=c(!1);b.value=((W=t==null?void 0:t.verifyMethods)==null?void 0:W.mobile)=="";const v=c(!0),g=c(!1),m=c(""),S=c(!1),k=c("");k.value=((E=t==null?void 0:t.verifyMethods)==null?void 0:E.mobile)!=""?o("safetyVerification"):o("bindPhone");const D=c("");D.value=((I=t==null?void 0:t.verifyMethods)==null?void 0:I.mobile)!=""?"updatePhone":"bindPhone",c("succeed");const M=()=>{T.go(-1)},{isShowSMS:p,registerState:r}=be();r();async function $(){var f;if(!m.value.trim())return R({message:o("noVerifyCodeFound"),wordBreak:"break-word"});await A(ze({userName:((f=t==null?void 0:t.verifyMethods)==null?void 0:f.mobile)||localStorage.getItem("numberType")+localStorage.getItem("number"),smsvCode:m.value}))&&(k.value=o("bindPhone"),D.value="bindPhone",V.value=!1,g.value=!1,a.value=!0,v.value=!1,b.value=!0,m.value="",i.PhoneNumber="",d.setCountDown(0)),g.value=!1}const i=ye({PhoneNumber:"",numberType:localStorage.getItem("numberType")});async function U(){var f;if(!m.value.trim())return R({message:o("noVerifyCodeFound"),wordBreak:"break-word"});if(!qe(i.numberType,i.PhoneNumber.trim().length))return R({message:o("wrongTel"),wordBreak:"break-word"});await A(We({phone:i.numberType+i.PhoneNumber,smsvCode:m.value}))&&(((f=t==null?void 0:t.verifyMethods)==null?void 0:f.mobile)!=""?(ee(o("rpdsucceed")),T.push({name:"main"})):h.value=!0)}const B=P=>{i.numberType=P},j=P=>{i.PhoneNumber=P},G=async()=>{var x;let P=a.value?i.numberType.replace("+","")+i.PhoneNumber:(x=t==null?void 0:t.verifyMethods)==null?void 0:x.mobile;const f=P.length;if(f<10||f>14)return R({message:o("wrongTel"),wordBreak:"break-word"});if(await A(Je({phone:P,codeType:a.value?Z.bindEmailMmobile:Z.resetEmailMmobile})))ee(o("sendSuccess"));else return-1},w=()=>{T.push({name:"main"}),h.value=!1};return ue(()=>{d.setCountDown(0)}),(P,f)=>{const J=F("NavBar");return u(),_("div",gt,[l(J,{title:k.value,class:"white","left-arrow":"",onClickLeft:M},null,8,["title"]),y(e("div",null,[l(Ee,{"show-validate":S.value,"onUpdate:showValidate":f[0]||(f[0]=x=>S.value=x),typeP:D.value,number:i.PhoneNumber,"number-type":i.numberType,onChangeT:B,onChangeN:j},null,8,["show-validate","typeP","number","number-type"])],512),[[C,a.value]]),n(p)?(u(),we(Ie,{key:0,value:m.value,"onUpdate:value":f[1]||(f[1]=x=>m.value=x),typeP:D.value,isShowVerifyT:v.value,sendFunc:G,number:i.PhoneNumber,numberType:i.numberType},null,8,["value","typeP","isShowVerifyT","number","numberType"])):N("v-if",!0),y(e("div",ht,[e("span",null,s(P.$t("tipVerifyCodeRequired")),1)],512),[[C,g.value]]),e("div",wt,[y(e("button",{onClick:$},s(P.$t("nextStep")),513),[[C,V.value]]),y(e("button",{onClick:U},s(P.$t("complete")),513),[[C,b.value]])]),l(ke,{show:h.value,"onUpdate:show":f[2]||(f[2]=x=>h.value=x),onConfirm:w,"show-cancel-btn":!1,confirmText:"confirm",picname:n(Y)("public","succeed"),title:P.$t("bindsuccess")},{content:H(()=>{var x,K;return[((x=n(t))==null?void 0:x.bindReward)>0?(u(),_("div",yt,[e("div",bt,[e("div",kt,s(P.$t("award")),1),e("div",$t,s(n(ae)((K=n(t))==null?void 0:K.bindReward)),1)])])):N("v-if",!0)]}),_:1},8,["show","picname","title"])])}}});const Ct=oe(Pt,[["__scopeId","data-v-90d7db2e"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/SettingCenter/UpdatePhone/index.vue"]]),xt=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"}));export{hn as U,Mt as a,Ut as b,xt as c,Vt as i};
