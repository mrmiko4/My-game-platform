import{G as F,r as y,z,B as j,H as G,aA as Q,I as _,ao as R,Q as w,av as D,K as k,N as u,J as s,P as a,O as T,aB as K,M as V,ap as d,ax as Y,aC as q,aD as Z,p as E,a8 as x,C as J,E as ee,$ as te,bd as oe,au as W,aY as se,V as ne,R as ae}from"./common.modules-f9fa5dc7.js";import{c as le,_ as U,N as ie,G as ce,A as O,eV as ue,eW as re,eX as pe,eK as ve,bQ as de,eT as _e}from"./page-activity-ActivityDetail-5a5f2722.js";import{M as ge}from"./MyGameRecord-53328001.js";import{F as me}from"./MyGameRecord-a65c4215.js";import{M as be}from"./MyGameRecord-0174f59c.js";import"./page-turntable-assets-d6267459.js";import"./native/index-eb46cb93.js";import"./en-cfd26acf.js";import"./page-activity-Bonus-4129face.js";import"./MayrecordList-8ad59dbc.js";import"./MayrecordList-3493f09f.js";import"./MayrecordList-7590fc9b.js";const fe=g=>(q("data-v-6c7a1db6"),g=g(),Z(),g),ye={class:"Betting__Popup"},he={class:"Betting__Popup-head"},ke={class:"Betting__Popup-head-title"},$e={class:"Betting__Popup-head-selectName"},Be={class:"Betting__Popup-body"},Ce={class:"Betting__Popup-body-line"},Pe={class:"Betting__Popup-body-line-list"},Te=["onClick"],we={class:"Betting__Popup-body-line"},Ie={class:"Betting__Popup-body-line-btnL"},Le={class:"Betting__Popup-body-line"},Se=fe(()=>s("div",null,null,-1)),Re={class:"Betting__Popup-body-line-list"},De=["onClick"],Ge={class:"Betting__Popup-body-line"},Ne={class:"Betting__Popup-foot"},Me={class:"Betting__Popup-foot-s bgcolor"},Ae={class:"Betting__Popup-PreSale"},We={class:"Betting__Popup-PreSale-head"},Ve={class:"Betting__Popup-PreSale-body"},He={class:"Betting__Popup-PreSale-foot"},Oe=F({__name:"BettingPopup",props:{selectInfo:{type:Object,default:()=>({})},bettingPopupShow:{type:Boolean,default:y(!1)},actionItem:{type:Object,default:()=>({})}},emits:["update:bettingPopupShow","update:selectInfo","clearBetting","submitBetting"],setup(g,{emit:$}){const i=g,{t:c}=z(),n=y(!1),p=y(!0),f=j(()=>i.actionItem.scopeList||[]),v=y([1,5,10,20,50,100]),B=j({get(){return i.bettingPopupShow||!1},set(b){$("update:bettingPopupShow",b)}}),h=b=>{switch(b){case 1:i.selectInfo.count>1&&(i.selectInfo.count--,C());break;case 2:i.selectInfo.count++,C();break}},N=b=>{b>0&&(i.selectInfo.count=parseInt(b),C())},I=b=>{i.selectInfo.count=b,C()},L=b=>{i.selectInfo.coin=b,C()},M=()=>{n.value=!1,p.value=!0},A=()=>{p.value?$("submitBetting"):E(c("agreePresaleRules"))},C=()=>{i.selectInfo.allCoin=i.selectInfo.coin*i.selectInfo.count};return(b,r)=>{const e=G("van-field"),m=G("van-popup"),t=Q("throttle-click");return u(),_(k,null,[R(" 投注内容 begin "),w(m,{show:B.value,"onUpdate:show":r[6]||(r[6]=o=>B.value=o),position:"bottom",round:!0,"close-on-click-overlay":!1},{default:D(()=>[s("div",ye,[s("div",he,[s("div",ke,a(g.actionItem.lotteryName),1),s("div",$e,[s("span",null,a(T(c)("choose")),1),s("span",null,a(g.selectInfo.selectCon),1)])]),s("div",Be,[s("div",Ce,[K(a(T(c)("amount"))+" ",1),s("div",Pe,[(u(!0),_(k,null,V(f.value,(o,l)=>(u(),_("div",{key:l,class:d(["Betting__Popup-body-line-item",{bgcolor:g.selectInfo.coin==o}]),onClick:P=>L(o)},a(o),11,Te))),128))])]),s("div",we,[K(a(T(c)("numbers"))+" ",1),s("div",Ie,[s("div",{class:d(["Betting__Popup-btn",{bgcolor:g.selectInfo.count>0}]),onClick:r[0]||(r[0]=o=>h(1))},"-",2),w(e,{class:"Betting__Popup-input",modelValue:g.selectInfo.count,"onUpdate:modelValue":r[1]||(r[1]=o=>g.selectInfo.count=o),type:"digit",maxlength:4,onInput:N},null,8,["modelValue"]),s("div",{class:"Betting__Popup-btn bgcolor",onClick:r[2]||(r[2]=o=>h(2))},"+")])]),s("div",Le,[Se,s("div",Re,[(u(!0),_(k,null,V(v.value,(o,l)=>(u(),_("div",{key:l,class:d(["Betting__Popup-body-line-item",{bgcolor:g.selectInfo.count==o}]),onClick:P=>I(o)}," X"+a(o),11,De))),128))])]),s("div",Ge,[s("span",{class:d(["Betting__Popup-agree",{active:p.value}]),onClick:r[3]||(r[3]=o=>p.value=!p.value)},a(T(c)("agree")),3),s("span",{onClick:r[4]||(r[4]=o=>n.value=!0),class:"Betting__Popup-preSaleShow"},a(T(c)("presaleRules")),1)])]),s("div",Ne,[s("div",{class:"Betting__Popup-foot-c",onClick:r[5]||(r[5]=o=>$("clearBetting"))},a(T(c)("cancel")),1),Y((u(),_("div",Me,[K(a(T(c)("totalAmount"))+" "+a(T(le)(g.selectInfo.count*g.selectInfo.coin||0)),1)])),[[t,{handler:A,wait:2e3}]])])])]),_:1},8,["show"]),R(" 规则弹层 begin"),w(m,{show:n.value,"onUpdate:show":r[7]||(r[7]=o=>n.value=o),"close-on-click-overlay":!1,round:""},{default:D(()=>[s("div",Ae,[s("div",We,a(T(c)("presaleRules")),1),s("div",Ve,a(b.$t("betPopTXT")),1),s("div",He,[s("div",{class:"Betting__Popup-PreSale-foot-btn",onClick:M},a(T(c)("iKonw")),1)])])]),_:1},8,["show"])],64)}}});const Ke=U(Oe,[["__scopeId","data-v-6c7a1db6"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Home/AllLotteryGames/ChangLong/BettingPopup.vue"]]),Ee={class:"changLong__C"},Fe={class:"changLong__C-bet"},Ue={class:"changLong__C-bet-l"},je={class:"num"},Je={class:"time"},Xe={class:"other"},ze={class:"remark"},Qe={class:"issue"},Ye=["onClick"],qe=["onClick"],Ze=["onClick"],xe=["onClick"],et=["onClick"],tt=["onClick"],ot=["onClick"],st=["onClick"],nt=["onClick"],at=["onClick"],lt=["onClick"],X=5,it=F({__name:"Bet",setup(g){const $=ie.global.t,i=y(!1),c=y({}),n=y({coin:0,count:1,allCoin:0,gametype:0,typeid:1,issuenumber:"2020",selecttype:1,selectCon:""}),p=x([]);let f=null;const v=(e,m,t,o,l)=>{if(p.value[m].action=t,c.value=e,n.value.selectCon=o,n.value.coin=e.scopeList[0],n.value.typeid=e.type,n.value.gametype=e.bettingGameType,e.type>4&&e.type!=30)l=="big"?n.value.selecttype="H":l=="small"?n.value.selecttype="L":n.value.selecttype=l;else{const P={red:10,green:11,violet:12,big:13,small:14};n.value.selecttype=P[l]}n.value.issuenumber=e.issueNumber,i.value=!0},B=y(!1),h=async()=>{if(f&&clearInterval(f),B.value)return;B.value=!0;const e=await O(ue({gameType:-1}));if(B.value=!1,!e)return;const m=e.data.serviceTime;p.value=e.data.list.map(t=>{let o=new Date(m).getTime(),l=new Date(t.startTime).getTime(),P=(o-l)/1e3;return P>t.intervalM*60&&(P=t.intervalM*60),t.scopeList=t.scope.split("|").map(S=>Number(S)),t.passTime=Math.floor(t.intervalM*60-P),t.time1=0,t.time2=Math.floor(t.passTime/60),t.time3=Math.floor(t.passTime%60/10),t.time4=Math.floor(t.passTime%10),t}),f=setInterval(function(){N()},1e3)},N=()=>{const e=p.value.length;let m=!1;for(let t=0;t<e;t++){let o=p.value[t];if(o.passTime<X&&o.issueNumber==c.value.issueNumber&&I(),o.passTime>0)o.time2=Math.floor(o.passTime/60),o.time3=Math.floor(o.passTime%60/10),o.time4=Math.floor(o.passTime%10),o.passTime--;else{m=!1,clearInterval(f),h();break}m=o.time3+o.time4==0}oe(p),m&&(clearInterval(f),h())},I=()=>{i.value=!1;let e=p.value.findIndex(m=>JSON.stringify(m)==JSON.stringify(c.value));e!=-1&&(p.value[e].action=0),n.value.coin=c.value.scopeList?c.value.scopeList[0]:0,n.value.count=1,c.value={}},L=()=>{const{typeid:e=0}=n.value;e&&(e<5||e==30?A():e<9?b():C())},M=e=>e<5||e==30?"winGo":e<9?"Fd":"k3",A=async()=>{const e=await O(re({typeId:n.value.typeid,issuenumber:n.value.issuenumber,amount:n.value.coin,betCount:Number(n.value.count),gameType:n.value.gametype,selectType:n.value.selecttype}));(e==null?void 0:e.code)===0&&(E($("code"+e.msgCode)),I())},C=async()=>{let{coin:e,count:m,issuenumber:t,gametype:o,selecttype:l,typeid:P}=n.value;const S=await O(pe({amount:e,betCount:Number(m),gameType:o.toString(),selectType:l,typeId:P,issuenumber:t}));(S==null?void 0:S.code)===0&&(E($("code"+S.msgCode)),I())},b=async()=>{let{coin:e,count:m,issuenumber:t,gametype:o,selecttype:l,typeid:P}=n.value;const S={issuenumber:t,typeId:P,amount:e,betCount:Number(m),gameType:o,selectType:l},H=await O(ve(S));(H==null?void 0:H.code)===0&&(E($("code"+H.msgCode)),I())},r=e=>e=="H"?"B":e.trim()=="L"?"S":e;return J(()=>{h()}),ee(()=>{clearInterval(f)}),te(()=>ce().visibility,e=>{h()}),(e,m)=>(u(),_(k,null,[s("div",Ee,[(u(!0),_(k,null,V(p.value,(t,o)=>(u(),_("div",Fe,[s("div",Ue,[s("div",{class:d(["titel",[M(t.type)]])},a(t.lotteryName),3),s("div",je,[K(a(t.issueNumber)+" ",1),s("span",Je,a(`${t.time1}${t.time2}:${t.time3}${t.time4}`),1)]),s("div",Xe,[s("div",ze,a(t.remark),1),s("div",{class:d(["gameResult","bg-"+t.gameResult])},a(r(t.gameResult)),3),s("div",Qe,a(t.issue)+a(e.$t("betIssues")),1)])]),s("div",{class:d(["changLong__C-bet-r",{disable:t.passTime<X}])},[t.gameType==0?(u(),_(k,{key:0},[s("div",{class:d({active:t.action==1}),onClick:l=>v(t,o,1,e.$t("betBig"),"big")},a(e.$t("betBig")),11,Ye),s("div",{class:d({active:t.action==2}),onClick:l=>v(t,o,2,e.$t("betSmall"),"small")},a(e.$t("betSmall")),11,qe)],64)):R("v-if",!0),t.gameType==1?(u(),_(k,{key:1},[s("div",{class:d({active:t.action==1}),onClick:l=>v(t,o,1,e.$t("betRed"),"red")},a(e.$t("betRed")),11,Ze),s("div",{class:d({active:t.action==2}),onClick:l=>v(t,o,2,e.$t("betGreen"),"green")},a(e.$t("betGreen")),11,xe),s("div",{class:d({active:t.action==3}),onClick:l=>v(t,o,3,e.$t("betViolet"),"violet")},a(e.$t("betViolet")),11,et)],64)):R("v-if",!0),t.gameType==2?(u(),_(k,{key:2},[s("div",{class:d({active:t.action==1}),onClick:l=>v(t,o,1,e.$t("betOdd"),"O")},a(e.$t("betOdd")),11,tt),s("div",{class:d({active:t.action==2}),onClick:l=>v(t,o,2,e.$t("betEven"),"E")},a(e.$t("betEven")),11,ot)],64)):R("v-if",!0),t.gameType==3?(u(),_(k,{key:3},[s("div",{class:d({active:t.action==1}),onClick:l=>v(t,o,1,e.$t("betWithSingle"),"O")},a(e.$t("betWithSingle")),11,st),s("div",{class:d({active:t.action==2}),onClick:l=>v(t,o,2,e.$t("betWithDouble"),"E")},a(e.$t("betWithDouble")),11,nt)],64)):R("v-if",!0),t.gameType==4?(u(),_(k,{key:4},[s("div",{class:d({active:t.action==1}),onClick:l=>v(t,o,1,e.$t("betWithBig"),"H")},a(e.$t("betWithBig")),11,at),s("div",{class:d({active:t.action==2}),onClick:l=>v(t,o,2,e.$t("betWithSmall"),"L")},a(e.$t("betWithSmall")),11,lt)],64)):R("v-if",!0)],2)]))),256))]),w(Ke,{bettingPopupShow:i.value,selectInfo:n.value,actionItem:c.value,onClearBetting:I,onSubmitBetting:L},null,8,["bettingPopupShow","selectInfo","actionItem"])],64))}});const ct=U(it,[["__scopeId","data-v-91d808d9"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Home/AllLotteryGames/ChangLong/Bet.vue"]]),ut={class:"BetRecord__C"},rt=["innerHTML"],pt=F({__name:"BetRecord",setup(g){const $={Win:ge,FD:me,K3:be},i=de(),c=y(),n=y(0),p=y(0),f=y("wingo"),v=j(()=>i[`${f.value}`]),B=y([{name:"WinGo",com:"Win"},{name:"5D Lotre",com:"FD"},{name:"K3Lotre",com:"K3"}]),h=y(1),N=async()=>{n.value===0?(await i.getWinGoData(),f.value="wingo"):n.value===1?(await i.get5DData(),f.value="fiveD"):(await i.getK3Data(),f.value="k3"),h.value=v.value[p.value].typeID,ne(()=>{c.value&&c.value.getData()})};return J(async()=>{N()}),(I,L)=>{const M=G("van-tab"),A=G("van-tabs");return u(),_("div",ut,[w(A,{class:"BetRecord__C-gameTab",active:n.value,"onUpdate:active":L[1]||(L[1]=C=>n.value=C),onClick:N},{default:D(()=>[(u(!0),_(k,null,V(B.value,(C,b)=>(u(),W(M,{key:b,title:C.name},{default:D(()=>[w(A,{class:"BetRecord__C-timeTab",active:p.value,"onUpdate:active":L[0]||(L[0]=r=>p.value=r)},{default:D(()=>[s("template",null,[(u(!0),_(k,null,V(v.value,(r,e)=>(u(),W(M,{key:e},{title:D(()=>[s("div",{innerHTML:r.typeName.replace(/<br ?\/?>/,"")},null,8,rt)]),_:2},1024))),128))])]),_:2},1032,["active"])]),_:2},1032,["title"]))),128))]),_:1},8,["active"]),(u(),W(se($[B.value[n.value].com]),{ref_key:"RecRef",ref:c,typeid:h.value,"has-head":!1,ApiFun:T(_e),"go-path-name":"0"},null,8,["typeid","ApiFun"]))])}}});const vt=U(pt,[["__scopeId","data-v-7c263a55"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Home/AllLotteryGames/ChangLong/BetRecord.vue"]]),dt={class:"changLong__C"},_t=F({__name:"index",setup(g){const $=ae(),i=y(0);function c(){$.go(-1)}return J(()=>{}),(n,p)=>{const f=G("NavBar"),v=G("van-tab"),B=G("van-tabs");return u(),_("div",dt,[w(f,{"left-arrow":"",title:n.$t("loongAssistant"),class:"main",onClickLeft:c},null,8,["title"]),w(B,{class:"changLong__C-tab",active:i.value,"onUpdate:active":p[0]||(p[0]=h=>i.value=h)},{default:D(()=>[w(v,{title:n.$t("latestLoong")},null,8,["title"]),w(v,{title:n.$t("myBet")},null,8,["title"])]),_:1},8,["active"]),i.value==0?(u(),W(ct,{key:0})):(u(),W(vt,{key:1}))])}}});const wt=U(_t,[["__scopeId","data-v-6aad721b"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/home/AllLotteryGames/ChangLong/index.vue"]]);export{wt as default};
