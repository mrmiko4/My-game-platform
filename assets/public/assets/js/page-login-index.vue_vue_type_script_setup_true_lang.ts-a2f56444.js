import{r as m,z as ee,R as Y,B as E,G as A,H as B,N as h,I as b,K as Se,M as Qe,ap as M,O as o,J as e,P as r,Q as y,av as z,Z as Le,aA as we,ax as D,ao as U,aF as pe,aB as V,u as q,X as et,au as J,az as Q,ay as G,V as j,aC as ve,aD as me,$ as $e,C as ge,F as ye,b3 as tt,a_ as Ve,E as Ne,aK as st,n as ot}from"./common.modules-f9fa5dc7.js";import{G as De,y as Ue,by as Be,bz as at,g as de,bA as nt,bB as rt,bC as lt,bD as it,N as _e,b as Ce,_ as H,a3 as te,J as ut,a1 as be,A as re,bE as ct,bF as qe,bG as Ae,a4 as Me,bH as ze,bI as He,bJ as dt,bK as pt,n as vt}from"./page-activity-ActivityDetail-5a5f2722.js";import{D as Oe}from"./page-activity-Championship-a16bb0a5.js";import{D as mt}from"./page-activity-PointMall-5842aaba.js";const Ee=m(!1);function Ze(){const{locale:g}=ee(),k=De(),u=Y();async function t(p,n){nt(p),g.value=p,k.updateLanguage(p),await rt(p),lt().upUserLanguage(),it(_e.global.t),localStorage.setItem("needUpd","1"),n===1?c():Ee.value=!1}const c=()=>{u.back()},s=E(()=>{let p=0;const n=Ue().getLanguage,d=[];if(n){const _=n==null?void 0:n.replace("th","tha").split("|");_==null||_.forEach(i=>{Be.forEach(f=>{(i.toLowerCase().indexOf(f.key.toLowerCase())!==-1||f.key.toLowerCase().indexOf(i.toLowerCase())!==-1)&&(d.push(f),p++)})})}return k.getLanguage||k.updateLanguage(at()),p==0?Be:d});return{onClick:t,languagesList:s,getIcons:de,locale:g,goBack:c,getLangName:p=>{const n=s.value.find(d=>d.key===p);return(n==null?void 0:n.key.toLocaleUpperCase())||""},show:Ee}}const gt=["onClick"],_t={class:"item-title"},ft=["src"],ht={key:0},wt={key:1},yt=A({__name:"index",props:{type:{type:Number,default:1}},setup(g){const{onClick:k,languagesList:u,locale:t}=Ze();return(c,s)=>{const a=B("van-radio"),p=B("van-radio-group");return h(),b("div",{class:M(g.type===2?"list info":"list")},[(h(!0),b(Se,null,Qe(o(u),(n,d)=>(h(),b("div",{class:M(["item ar-1px-b",n.key==o(t)?"checked":""]),key:d,onClick:_=>o(k)(n.key,g.type)},[e("div",_t,[e("img",{src:o(Ce)("languages",n.key)},null,8,ft),g.type===2?(h(),b("span",ht,r(n.key.toLocaleUpperCase()),1)):(h(),b("span",wt,r(n.name),1))]),y(p,{modelValue:o(t),"onUpdate:modelValue":s[0]||(s[0]=_=>Le(t)?t.value=_:null)},{default:z(()=>[y(a,{name:n.key},null,8,["name"])]),_:2},1032,["modelValue"])],10,gt))),128))],2)}}});const bt=H(yt,[["__scopeId","data-v-29e221c4"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Main/LanguageList/index.vue"]]),kt={class:"img"},St={class:"languageName"},$t=A({__name:"LangPopup",setup(g){const{getLangName:k,locale:u,show:t}=Ze(),c=Ue(),s=E(()=>c.getLoginChangeLanguage=="1");return(a,p)=>{const n=B("van-popup"),d=we("lazy");return h(),b("div",null,[s.value?(h(),b("div",{key:0,class:"right",onClick:p[0]||(p[0]=_=>t.value=!0)},[D(e("img",kt,null,512),[[d,o(Ce)("languages",o(u))]]),e("span",St,r(o(k)(o(u))),1)])):U("v-if",!0),y(n,{show:o(t),"onUpdate:show":p[1]||(p[1]=_=>Le(t)?t.value=_:null),class:"popup",position:"bottom",teleport:"body"},{default:z(()=>[y(bt,{type:2})]),_:1},8,["show"])])}}});const Ct=H($t,[["__scopeId","data-v-8610bd15"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/LangPopup.vue"]]),It={class:"popups"},Pt={class:"popup-content"},Tt={class:"tit"},Ft={class:"con"},Rt={class:"info"},xt={class:"txt"},Bt={class:"txt"},Et={class:"box"},Lt=["placeholder"],Vt={class:"lab"},Nt={class:"popup-foot"},Dt=A({__name:"index",props:{showPopup:{type:Boolean,default:m(!1)}},emits:["update:showPopup","onConfirm","onBack"],setup(g,{emit:k}){const u=g,t=Y(),{t:c}=ee(),s=E({get(){return u.showPopup||!1},set(_){k("update:showPopup",_)}}),a=m(""),p=()=>{if(!a.value)return q(c("googleKey"));k("onConfirm",a.value.toString())},n=()=>{a.value="",k("onBack")};function d(){t.push({name:"CustomerService"})}return(_,i)=>{const f=B("van-icon"),C=B("van-popup"),l=we("throttle-click"),$=we("lazy");return h(),b("div",It,[y(C,{show:s.value,"onUpdate:show":i[1]||(i[1]=F=>s.value=F),position:"center",round:"",class:"popup","close-on-click-overlay":!1},{default:z(()=>[e("div",Pt,[e("div",Tt,r(o(c)("googleVerification")),1),e("div",Ft,[e("div",Rt,[e("p",xt,r(o(c)("googleTip5")),1),e("p",Bt,r(o(c)("googleTip6")),1)]),e("div",Et,[D(e("input",{class:"input",type:"text","onUpdate:modelValue":i[0]||(i[0]=F=>a.value=F),maxlength:"6",oninput:"value=value.replace(/\\D/g,'')",placeholder:o(c)("PgoogleVerification")},null,8,Lt),[[pe,a.value]]),e("p",Vt,[y(f,{class:"icon",name:"warning-o"}),V(r(o(c)("PVerificationCode"))+" ",1),e("span",{onClick:d},r(o(c)("contactServicer")),1)])]),e("div",Nt,[D((h(),b("div",null,[V(r(o(c)("confirm")),1)])),[[l,{handler:p,wait:1e3}]]),e("div",{onClick:n},r(o(c)("withdrawDialogDesc6")),1)])]),D(e("img",{class:"close",onClick:n},null,512),[[$,o(Ce)("main","close")]])])]),_:1},8,["show"])])}}});const We=H(Dt,[["__scopeId","data-v-96e240c3"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Main/VerifyPopup/index.vue"]]),se=g=>(ve("data-v-869b9ee0"),g=g(),me(),g),Ut=["src"],qt=["src"],At={key:1,class:"captcha_message"},Mt={class:"captcha_message__icon"},zt={key:0,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},Ht=se(()=>e("g",{fill:"none","fill-rule":"evenodd",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"},[e("path",{d:"M22.776 4.073A13.2 13.2 0 0 0 14 .75C6.682.75.75 6.682.75 14S6.682 27.25 14 27.25 27.25 21.318 27.25 14c0-.284-.009-.566-.027-.845"}),e("path",{d:"M7 12.5l7 7 13-13"})],-1)),Ot=[Ht],Zt={key:1,height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},Wt=se(()=>e("g",{fill:"none","fill-rule":"evenodd",stroke:"#fff","stroke-width":"1.5"},[e("circle",{cx:"14",cy:"14",r:"13.25"}),e("path",{d:"M8.75 8.75l10.5 10.5M19.25 8.75l-10.5 10.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),jt=[Wt],Gt={class:"captcha_message__text"},Kt={key:2,class:"captcha_message loadding"},Xt=se(()=>e("div",{class:"captcha_message__icon captcha_message__icon--loadding"},null,-1)),Jt={class:"captcha_message__text"},Yt={key:3,class:"captcha_message"},Qt=se(()=>e("div",{class:"captcha_message__icon captcha_message__icon--loadding"},null,-1)),es=se(()=>e("div",{class:"captcha_message__text"},null,-1)),ts=[Qt,es],ss=se(()=>e("path",{d:"M500.864 545.728a47.744 47.744 0 0 0 6.72-48.896 24.704 24.704 0 0 0-4.48-8.384L240.256 193.088a34.24 34.24 0 0 0-28.608-17.408 34.24 34.24 0 0 0-25.856 12.864 46.592 46.592 0 0 0 0 59.52l238.08 264.512-238.08 264.512a46.592 46.592 0 0 0-1.088 59.52 32 32 0 0 0 50.56 0l265.6-290.88z","p-id":"820"},null,-1)),os=se(()=>e("path",{d:"M523.84 248.064l236.992 264.512-238.08 264.512a46.592 46.592 0 0 0 0 59.52 32 32 0 0 0 50.56 0l265.6-292.608a47.744 47.744 0 0 0 6.72-48.832 24.704 24.704 0 0 0-4.48-8.448L578.304 191.36a34.24 34.24 0 0 0-55.552-2.816 46.592 46.592 0 0 0 1.088 59.52z","p-id":"821"},null,-1)),as=[ss,os],ns={key:0,class:"captcha__actions"},rs=["fill"],ls=se(()=>e("path",{d:"M10,4 C12.0559549,4 13.9131832,5.04358655 15.0015086,6.68322231 L15,5.5 C15,5.22385763 15.2238576,5 15.5,5 C15.7761424,5 16,5.22385763 16,5.5 L16,8.5 C16,8.77614237 15.7761424,9 15.5,9 L12.5,9 C12.2238576,9 12,8.77614237 12,8.5 C12,8.22385763 12.2238576,8 12.5,8 L14.5842317,8.00000341 C13.7999308,6.20218044 12.0143541,5 10,5 C7.23857625,5 5,7.23857625 5,10 C5,12.7614237 7.23857625,15 10,15 C11.749756,15 13.3431487,14.0944653 14.2500463,12.6352662 C14.3958113,12.4007302 14.7041063,12.328767 14.9386423,12.4745321 C15.1731784,12.6202971 15.2451415,12.9285921 15.0993765,13.1631281 C14.0118542,14.9129524 12.0990688,16 10,16 C6.6862915,16 4,13.3137085 4,10 C4,6.6862915 6.6862915,4 10,4 Z","fill-rule":"nonzero"},null,-1)),is=[ls],us=A({__name:"SlideCaptcha",props:{width:{type:Number,default:340},height:{type:Number,default:212},barHeight:{type:Number,default:40},handlerIconWidth:{type:Number,default:16},handlerIconHeigth:{type:Number,default:16},background:{type:String,default:"#eee"},circle:{type:Boolean,default:!1},radius:{type:String,default:"4px"},text:{type:String,default:""},progressBarBg:{type:String,default:"#76c61d"},successTip:{type:String,default:"Verification passed, over 80% of users."},failTip:{type:String,default:"Verification failed, drag the slider to correctly merge the floating image."},showRefresh:{type:Boolean,default:!1},refreshColor:{type:String,default:"#505050"}},emits:["finish","refresh"],setup(g,{expose:k,emit:u}){const t=g,c=m(!1),s=m(!1),a=m(0),p=m(0),n=m(!1),d=m(!1),_=m(!1),i=m([]),f=m(void 0),C=m(!1),l=m(!1),$=m(!1),F=m(""),P=m(""),L=m(!1),S=E(()=>({width:t.width+"px",height:t.height+"px",position:"relative",overflow:"hidden"})),x=E(()=>({width:t.width+"px"})),R=E(()=>({width:t.width+"px",height:t.barHeight+"px",lineHeight:t.barHeight+"px",background:t.background,borderRadius:t.circle?t.barHeight/2+"px":t.radius})),W=E(()=>({background:t.progressBarBg,height:t.barHeight+"px",borderRadius:t.circle?t.barHeight/2+"px 0 0 "+t.barHeight/2+"px":t.radius})),ie=E(()=>({height:t.barHeight+"px",width:t.width+"px"})),ue=E(()=>({width:t.barHeight+"px",height:t.barHeight-2+"px"})),ae=E(()=>({width:t.handlerIconWidth+"px",height:t.handlerIconHeigth+"px"})),oe=E(()=>t.refreshColor),w=E(()=>({color:t.refreshColor})),I=m(),Z=m(),K=m(),v=m(),T=m(),ne=()=>{c.value=!0,j(()=>{Fe(),Xe()}),$.value=!0},ce=(N,X)=>{$.value=!1,F.value=N,P.value=X},O=()=>{l.value=!0},Ge=N=>{N.value=N,l.value=!1,C.value=!0},Fe=()=>{a.value=0,p.value=0,i.value=[],s.value=!1,_.value=!1,$.value=!1,l.value=!1,C.value=!1,L.value=!1,Z&&(Z.value.style.width=0),v&&(v.value.style.left=0),T&&(T.value.style.left=0)},Re=()=>{window.removeEventListener("touchmove",fe),window.removeEventListener("touchend",he),window.removeEventListener("mousemove",fe),window.removeEventListener("mouseup",he)},xe=N=>{!L.value&&F.value&&P.value&&!_.value&&(window.addEventListener("touchmove",fe),window.addEventListener("touchend",he),window.addEventListener("mousemove",fe),window.addEventListener("mouseup",he),s.value=!0,f.value=new Date,a.value=N.pageX||N.touches[0].pageX,p.value=N.pageY||N.touches[0].pageY)},fe=N=>{if(s.value&&!L.value&&F.value&&P.value&&!_.value){const X=(N.pageX||N.touches[0].pageX)-a.value,ke=(N.pageY||N.touches[0].pageY)-p.value;T.value.style.left=X+"px",Z.value.style.width=X+t.barHeight/2+"px",v.value.style.left=X+"px",i.value.push({x:Math.round(X),y:Math.round(ke),t:new Date().getTime()-f.value.getTime()})}},he=()=>{s.value&&!L.value&&F.value&&P.value&&!_.value&&(s.value=!1,_.value=!0,Re(),u("finish",{backgroundImageWidth:K.value.offsetWidth,backgroundImageHeight:K.value.offsetHeight,sliderImageWidth:v.value.offsetWidth,sliderImageHeight:v.value.offsetHeight,startTime:f.value,endTime:new Date,tracks:i.value}))},Ke=N=>{c.value=N},Xe=()=>{I.value.style.setProperty("--textColor","#333"),I.value.style.setProperty("--width",Math.floor(t.width/2)+"px"),I.value.style.setProperty("--pwidth",-Math.floor(t.width/2)+"px")},Je=()=>{Fe(),u("refresh")};return k({startRequestVerify:O,endRequestVerify:Ge,startRequestGenerate:ne,endRequestGenerate:ce,setShowHiden:Ke}),et(()=>{Re()}),(N,X)=>{const ke=B("van-popup");return h(),J(ke,{show:c.value,"onUpdate:show":X[0]||(X[0]=Ye=>c.value=Ye),teleport:"body"},{default:z(()=>[e("div",{class:"captcha",style:Q(x.value)},[e("div",{class:"captcha__main",style:Q(S.value)},[F.value?(h(),b("img",{key:0,ref_key:"backgroundRef",ref:K,alt:"background",class:"captcha_background",src:F.value},null,8,Ut)):U("v-if",!0),D(e("img",{ref_key:"sliderRef",ref:v,alt:"slider",class:M(["captcha_slider",{goFirst:n.value,goKeep:d.value}]),src:P.value},null,10,qt),[[G,P.value]]),C.value?(h(),b("div",At,[e("div",Mt,[L.value?(h(),b("svg",zt,Ot)):(h(),b("svg",Zt,jt))]),e("div",Gt,r(L.value?g.successTip:g.failTip),1)])):U("v-if",!0),$.value?(h(),b("div",Kt,[Xt,e("div",Jt,r(N.$t("loading"))+"...",1)])):U("v-if",!0),l.value?(h(),b("div",Yt,ts)):U("v-if",!0)],4),e("div",{ref_key:"dragVerifyRef",ref:I,class:"captcha__bar",style:Q(R.value)},[e("div",{ref_key:"progressBarRef",ref:Z,class:M(["captcha_progress_bar",{goFirst2:n.value}]),style:Q(W.value)},null,6),e("div",{class:"captcha_progress_bar__text",style:Q(ie.value)},r(N.$t("slideCaptchaText")),5),e("div",{ref_key:"handlerRef",ref:T,class:M(["captcha_handler",{goFirst:n.value}]),style:Q(ue.value),onMousedown:xe,onTouchstart:xe},[(h(),b("svg",{"p-id":"819",style:Q(ae.value),version:"1.1",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},as,4))],38)],4),g.showRefresh?(h(),b("div",ns,[e("a",{class:"captcha__action",style:Q(w.value),onClick:Je},[(h(),b("svg",{fill:oe.value,height:"20px",version:"1.1",viewBox:"0 0 20 20",width:"20px",xmlns:"http://www.w3.org/2000/svg"},is,8,rs)),U(' <span class="captcha__action__text">刷新</span> ')],4)])):U("v-if",!0)],4)]),_:1},8,["show"])}}});const je=H(us,[["__scopeId","data-v-869b9ee0"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/SlideCaptcha.vue"]]),cs={class:"verifyInput__container"},ds={class:"verifyInput__container-label"},ps={key:0},vs={key:1},ms={class:"verifyInput__container-input"},gs=["placeholder"],_s={key:0},fs={key:1},hs={class:"verifyInput__container-tip"},ws=A({__name:"VerifyInput",props:{value:{type:String,required:!1},typeP:{type:String,required:!1},isShowVerifyT:{type:Boolean,required:!1},placeholder:{type:String,required:!1,default:_e.global.t("registerTip1")},sendFunc:{type:Function,required:!1},number:{type:String,required:!1},numberType:{type:String,required:!1,default:""},showVerify:{type:Boolean,required:!1,default:!0},email:{type:String,required:!1},loginType:{type:String,required:!1},isTip:{type:Boolean,required:!1,default:!0}},emits:["update:value"],setup(g,{emit:k}){const u=g,{t}=ee(),c=te(),a=De().getUserInfo,p=Y(),n=E({get(){return u.value||""},set(l){k("update:value",l)}}),d=m(!0);async function _(){var $;if(d.value&&(d.value=!u.isTip),c.countDown>0)return;if(p.currentRoute.value.name==="rpwd"||p.currentRoute.value.name==="register"||p.currentRoute.value.name==="SettingC-UpdatePhone"&&!u.isShowVerifyT){if(!(($=u.number)!=null&&$.trim()))return q({message:t("telUndetected"),wordBreak:"break-word"});const F=(u.number.trim()+u.numberType.trim()).length;if(F<10||F>14)return q({message:t("wrongTel"),wordBreak:"break-word"})}else if(!localStorage.getItem("numberType")&&localStorage.getItem("number"))return q({message:t("telUndetected"),wordBreak:"break-word"});!u.sendFunc||await u.sendFunc()===-1||c.sendCode()}const i=E(()=>{var l;return u.number?u.numberType+u.number:((l=a==null?void 0:a.verifyMethods)==null?void 0:l.mobile)||localStorage.getItem("numberType")+localStorage.getItem("number")}),f=l=>{const $=l.target;$.value=$.value.replace(/\s+/g,""),$.value=$.value.replace(/[^\d]/g,"")};function C(){p.push({name:"CustomerService"})}return(l,$)=>{const F=B("svg-icon"),P=B("van-icon");return D((h(),b("div",cs,[D(e("div",ds,[y(F,{name:"verify"}),l.typeP==="updatePhone"||l.typeP==="lock"?(h(),b("span",ps,r(l.$t("sendVerifyCodeTo"))+" "+r(o(ut)(i.value)),1)):(h(),b("span",vs,r(l.$t("verifyCode")),1))],512),[[G,!(l.isShowVerifyT===!1&&l.typeP==="updatePhone")]]),e("div",ms,[D(e("input",{type:"text","onUpdate:modelValue":$[0]||($[0]=L=>n.value=L),placeholder:l.$t("phEnterVerificationCode"),maxlength:"6",onInput:f},null,40,gs),[[pe,n.value]]),e("button",{onClick:_,class:M({inActive:o(c).countDown>0})},[o(c).countDown===0?(h(),b("span",_s,r(l.$t("send")),1)):(h(),b("span",fs,r(o(c).countDown)+"S ",1))],2)]),D(e("div",hs,[y(P,{name:"warning-o"}),e("span",null,r(l.$t("codeUnreceived"))+"?",1),e("span",{onClick:$[1]||($[1]=L=>C())},r(l.$t("contactServicer")),1)],512),[[G,!d.value]])],512)),[[G,l.showVerify]])}}});const ys=H(ws,[["__scopeId","data-v-c17848a2"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/VerifyInput.vue"]]),bs={class:"passwordInput__container"},ks={class:"passwordInput__container-label"},Ss={class:"passwordInput__container-input"},$s=["type","placeholder","maxlength","value"],Cs=["src"],Is=A({__name:"PasswordInput",props:{value:{type:String,required:!1},maxlength:{type:Number,required:!1,default:15},label:{type:String,required:!0}},emits:["update:value"],setup(g,{emit:k}){const u=g,t=_e.global.t,c=m(),s=m(""),a=m(!1);$e(s,S=>{k("update:value",S)},{flush:"post"});const p=S=>{if(a.value)return;let x=_();const R=S.target;R.value=R.value.replace(/\s+/g,"");const W=/[\u4e00-\u9fa5]/g;R.value=R.value.replace(W,""),i(x,R.value),f(R.value),C(x)},n=m(!1),d=E(()=>n.value?de("main","eyeVisible"):de("main","eyeInvisible")),_=()=>{var S={start:0,end:0};return S.start=c.value.selectionStart,S.end=c.value.selectionEnd,S},i=(S,x)=>{if(x.length>1&&!x.includes("•")){s.value=x;return}let R=x.split("•").join("");if(R){let W=s.value.length-(x.length-S.end);s.value=s.value.slice(0,S.end-R.length)+R+s.value.slice(W)}else s.value=s.value.slice(0,S.end)+s.value.slice(S.end+s.value.length-x.length)},f=S=>{if(n.value)return;if(!S){c.value.value="";return}let x="";for(let R=0;R<S.length;R++)x+="•";c.value.value=x},C=S=>{c.value.setSelectionRange(S.start,S.end)},l=()=>{a.value=!0},$=S=>{a.value&&(a.value=!1,p(S))},F=()=>{n.value=!n.value,n.value?c.value.value=s.value:f(s.value)};ge(()=>{s.value=u.value||"",f(s.value)});const P=localStorage.getItem("language"),L=E(()=>{let S,x=u.label;switch(P){case"vi":switch(x){case"Đặt mật khẩu":S=t("setLoginPSW");break;case"Xác nhận mật khẩu":S=t("enterPswConfirmation");break;default:S=t("phEnter")+x;break}break;default:S=x}return S});return(S,x)=>{const R=B("svg-icon");return h(),b("div",bs,[e("div",ks,[y(R,{name:"editPswIcon",class:"passwordInput__container-label__icon"}),e("span",null,r(S.label),1)]),e("div",Ss,[e("input",{type:n.value?"text":"password",placeholder:L.value,maxlength:S.maxlength,onInput:p,onCompositionstart:l,onCompositionend:$,ref_key:"inputPwd",ref:c,value:S.value,autocomplete:"new-password"},null,40,$s),e("img",{src:d.value,class:"eye",onClick:F},null,8,Cs)])])}}});const le=H(Is,[["__scopeId","data-v-ea5b66c8"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/PasswordInput.vue"]]),Ie={moneyup:/^(?!0+$)(?!0*\.0*$)\d{1,11}(\.\d{1,2})?$/,redNum:/^([1-9]\d{0,2}|1000)$/,requiredNum:/^.{0,20}$/,passReg2:/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?![0-9\W_]+$)[a-zA-Z0-9\W_]{8,30}$/,passReg3:/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,30}$/,outmoneypwd:/^\d{6}$/,name:/^[^~`!@#$%^&*+-/=/_()|<\{\}\[\],.:'"//\?\\/>》《]{1,30}$/,tuiName:/^[a-zA-Z\s\u4e00-\u9fa50-9][a-zA-Z0-9\s\u4e00-\u9fa5]{1,23}$/,yaoma:/^[A-Za-z0-9|A-Za-z|0-9]{6}$/,httpCheck:/^((ht|f)tps?):\/\/([\w-]+(\.[\w-]+)*\/?)+(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?$/,password:/^[A-Za-z0-9~`!@#$%^&*()_+-='",;.?/|]{6,12}$/,account:/^(?![a-zA-Z]+$)[a-zA-Z0-9|0-9]{7,11}$/,email:/^[0-9A-Za-zd]+([-_.][0-9A-Za-zd]+)*@([0-9A-Za-zd]+[-.]{0,1})[A-Za-zd]{1,5}$/,email1:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,length1:/^.{6,30}$/,phone:/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{1,14}$/,phone1:/^(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{1,14}$/,moneys2:/^(-?)\d{1,9}(\.\d{1,2})?$/,moneys21:/^\d{1,4}(\.\d{1,2})?$/,ip:/^(?:(?:1[0-9][0-9]\.)|(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)){3}(?:(?:1[0-9][0-9])|(?:2[0-4][0-9])|(?:25[0-5])|(?:[1-9][0-9])|(?:[0-9]))$/,int:/^[1-9]\d*$/,verifyname:/[^a-zA-Z\s+$]/g,inputrule:/^[0-9,|]+$/},Ps={moneyup:"validateDesc1",redNum:"validateDesc2",requiredNum:"validateDesc3",passReg2:"pswRequirements",outmoneypwd:"validateDesc5",name:"validateDesc6",tuiName:"validateDesc7",endSpace:"validateDesc8",yaoma:"validateDesc9",httpCheck:"validateDesc10",password:"validateDesc11",account:"validateDesc13",email:"validateDesc14",length1:"validateDesc15",phone:"validateDesc16",moneys2:"validateDesc17",moneys21:"validateDesc18",ip:"validateDesc19",int:"validateDesc20",verifyname:"validateDesc21",inputtip:"validateDesc22"},Pe=g=>(ve("data-v-ab583a3a"),g=g(),me(),g),Ts={class:"RpwdPopup"},Fs={class:"RpwdPopup-head"},Rs={class:"RpwdPopup-topTip"},xs=Pe(()=>e("br",null,null,-1)),Bs={class:"RpwdPopup-tip"},Es=Pe(()=>e("div",{class:"tipbg"},null,-1)),Ls={class:"RpwdPopup-errorTip"},Vs={key:0},Ns={class:"errorTip"},Ds=Pe(()=>e("br",null,null,-1)),Us={class:"RpwdPopup-foot"},qs=A({__name:"RpwdPopup",props:{show:{type:Boolean,default:!1},gamePresentation:{type:String,default:""},phoneNumber:{type:String,default:""},phoneNumberType:{type:String,default:""},passwordErrorMaxNum:{default:10}},emits:["update:show"],setup(g,{emit:k}){const u=g,{t}=ee();Y();const{getSelfCustomerServiceLink:c}=be({ServerType:2}),s=m(!1),a=te(),p=m(!1),n=m({smsvcode:"",password:"",rePassword:""}),d=E({get(){return u.show||!1},set(C){C||k("update:show",!1)}}),_=async()=>{if(!u.phoneNumber)return;await re(ct({phone:u.phoneNumberType+u.phoneNumber,codeType:qe.resetPassword}))?ye(t("sendSuccess")):setTimeout(()=>{a.setCountDown(0)},500)},i=async()=>{if(!n.value.smsvcode.trim())return q({message:t("registerTip1"),wordBreak:"break-word"});if(n.value.smsvcode.trim().length!=6)return q({message:t("verifyCode6Digits"),wordBreak:"break-word"});if(!n.value.password.trim())return q({message:t("registerTip2"),wordBreak:"break-word"});if(!Ie.passReg3.test(n.value.password)){s.value=!0;return}if(!n.value.rePassword.trim())return q({message:t("registerTip3"),wordBreak:"break-word"});if(n.value.password!==n.value.rePassword){p.value=!0;return}else p.value=!1;const{password:C,smsvcode:l}=n.value;let $={username:u.phoneNumberType+u.phoneNumber,password:C,type:"mobile",smsvcode:l};await re(Ae($))&&(ye(t("rpdsucceed")),localStorage.clear(),k("update:show",!1))},f=()=>{c()};return(C,l)=>{const $=B("svg-icon"),F=B("van-popup");return h(),b(Se,null,[U(" 规则弹层 begin"),y(F,{show:d.value,"onUpdate:show":l[4]||(l[4]=P=>d.value=P),"close-on-click-overlay":!1,position:"bottom",round:""},{default:z(()=>[e("div",Ts,[e("div",Fs,r(o(t)("idlockTitle")),1),e("div",Rs,[V(r(o(t)("idlockTip1",[g.passwordErrorMaxNum])),1),xs,V(r(o(t)("idlockTip3")),1)]),y(ys,{value:n.value.smsvcode,"onUpdate:value":l[0]||(l[0]=P=>n.value.smsvcode=P),number:g.phoneNumber,sendFunc:_,numberType:g.phoneNumberType,"type-p":"lock"},null,8,["value","number","numberType"]),y(le,{value:n.value.password,"onUpdate:value":l[1]||(l[1]=P=>n.value.password=P),label:o(t)("newPSWRest")},null,8,["value","label"]),D(e("div",Bs,[Es,e("span",null,r(o(t)("pswRule")),1)],512),[[G,s.value]]),y(le,{value:n.value.rePassword,"onUpdate:value":l[2]||(l[2]=P=>n.value.rePassword=P),label:o(t)("newPSWconfirm")},null,8,["value","label"]),e("div",Ls,[p.value?(h(),b("span",Vs,r(o(t)("unmatchedInput")),1)):U("v-if",!0)]),e("div",{class:"gotuserver van-hairline--surround",onClick:f},[y($,{name:"customer1"}),V(r(o(t)("contactServicer")),1)]),e("div",Ns,[V(r(o(t)("wrongTel")),1),Ds,V(r(o(t)("rpwdPopupTip")),1)]),e("div",Us,[e("button",{class:"dialogBtn",onClick:i},r(o(t)("confirm")),1),e("button",{class:"dialogBtn",onClick:l[3]||(l[3]=P=>k("update:show",!1))},r(o(t)("cancel")),1)])])]),_:1},8,["show"])],2112)}}});const As=H(qs,[["__scopeId","data-v-ab583a3a"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/RpwdPopup.vue"]]),Ms={class:"phoneInput__container"},zs={class:"phoneInput__container-label"},Hs={class:"phoneInput__container-input"},Os=["placeholder"],Zs=A({__name:"PhoneInput",props:{type:{type:String,required:!0},showValidate:{type:Boolean,required:!0},typeP:{type:String,required:!1},numberType:{type:String,required:!0},number:{type:String,required:!0}},emits:["update:show-validate","changeT","changeN"],setup(g,{expose:k,emit:u}){const t=g,c=m(),s=E({get(){return t.number},set(i){u("changeN",i.replace(/[^0-9]/g,""))}});function a(i){i.target.value.length<6&&u("update:show-validate",!0)}function p(i){const f=i.target,C=/[\u4e00-\u9fa5]/g;f.value=f.value.replace(C,""),f.value.length>0&&u("update:show-validate",!1)}const n=i=>{u("changeT",i)};tt(c,()=>{c.value.close()}),ge(()=>{});const d=m();function _(){j(()=>{d.value.focus()})}return k({getFocus:_}),(i,f)=>{const C=B("svg-icon"),l=we("only-num");return h(),b("div",Ms,[e("div",zs,[y(C,{name:"phone"}),e("span",null,r(i.$t("phone")),1)]),e("div",Hs,[y(mt,{typeValue:t.numberType,ref_key:"dropDown",ref:c,onChangeT:n},null,8,["typeValue"]),D(e("input",{type:"text",name:"userNumber","onUpdate:modelValue":f[0]||(f[0]=$=>s.value=$),placeholder:i.$t("plsEnterTel"),onBlur:a,onInput:p,ref_key:"number",ref:d},null,40,Os),[[l],[pe,s.value]])])])}}});const Ws=H(Zs,[["__scopeId","data-v-50aa8bb0"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/PhoneInput.vue"]]),js=g=>(ve("data-v-33f88764"),g=g(),me(),g),Gs={class:"signIn__container"},Ks={class:"signIn__container-button"},Xs={class:"signIn_footer"},Js={class:"font24"},Ys={class:"font24"},Qs={class:"idlockTip"},eo=js(()=>e("br",null,null,-1)),to=["src"],so=A({__name:"SignIn",setup(g,{expose:k}){const u=Y(),{t}=ee(),c=m("login"),{setLoading:s}=Me(),a=te(),p=m(!1),{getSelfCustomerServiceLink:n,isCenterServer:d}=be({ServerType:2}),_=m(!1),i=m(10),f=m();let C=!1;async function l(){if(!C){if(C=!0,ze()&&await new Promise(v=>setTimeout(v,1e3)),C=!1,!a.userForm.number||a.userForm.number.toString().trim()===""){_.value=!0;return}if(!a.userForm.password||a.userForm.password.toString().trim()==="")return q({message:t("registerTip2"),wordBreak:"break-word"});a.userForm.numberType=a.getUserForm.numberType.replace("+",""),a.userForm.remember&&a.userForm.password.toString().trim()!==""?localStorage.setItem("remember",a.userForm.password):localStorage.setItem("remember",""),a.isOpenCaptcha&&!S.value?oe():(s(!0),await a.signIn(a.userForm).then(v=>{a.userForm.vCode="",console.log("res",v)}).catch(v=>{var T;console.log("登陆错误1",v),S.value=!1,v.code===1&&(i.value=((T=v.data)==null?void 0:T.passwordErrorMaxNum)||10),v.msgCode===33?j(()=>I.value=!0):w(v.msgCode||0)}).finally(()=>{R.value.setShowHiden(!1),s(!1)}))}}const $=()=>{u.push({name:"register"})};function F(){u.push({name:"rpwd"}),a.setCurrentView("ResetPassword")}function P(){n()}const L=v=>{a.getUserForm.numberType=v},S=m(!1),x=v=>{a.getUserForm.number=v},R=m(),W=m(""),ie=()=>{p.value=!1,n()};Ve(window,"keydown",v=>{v.key=="Enter"&&l()}),ge(async()=>{var T;const v=a.getUserForm;localStorage.getItem("remember")!=null&&((T=localStorage.getItem("remember"))==null?void 0:T.toString().trim())!=""?v.password=localStorage.getItem("remember"):v.password="",a.setUserForm({...v})});let ue=$e(()=>a.userForm.number,v=>{a.setCountDown(0)},{flush:"post"});const ae=async v=>{j(async()=>{R.value.startRequestVerify(),s(!0),a.signIn(Object.assign(a.userForm,{captchaId:W.value,track:v})).then(T=>{console.log("res",T)}).catch(T=>{var ne;console.log("登陆错误",T),T.code===1&&(i.value=((ne=T.data)==null?void 0:ne.passwordErrorMaxNum)||10),T.msgCode===33?(j(()=>I.value=!0),S.value=!0):w(T.msgCode||0)}).finally(()=>{R.value.setShowHiden(!1),s(!1)})})},oe=()=>{j(async()=>{R.value.startRequestGenerate();const v=await re(He());v?(W.value=v.data.captchaId,R.value.endRequestGenerate(v.data.backgroundImage,v.data.sliderImage)):R.value.endRequestGenerate(null,null)})},w=v=>{v==122&&(p.value=!0)};Ne(()=>{ue(),a.getUserForm.remember||(a.getUserForm.password="")});const I=m(!1),Z=v=>{a.userForm.vCode=v,l()},K=()=>{I.value=!1,a.userForm.vCode=""};return k({showPhoneValidate:_}),(v,T)=>{const ne=B("van-checkbox"),ce=B("svg-icon");return h(),b("div",Gs,[y(Ws,{"show-validate":_.value,"onUpdate:showValidate":T[0]||(T[0]=O=>_.value=O),ref_key:"phone",ref:f,type:c.value,"number-type":o(a).getUserForm.numberType,number:o(a).userForm.number,onChangeT:L,onChangeN:x},null,8,["show-validate","type","number-type","number"]),y(le,{value:o(a).userForm.password,"onUpdate:value":T[1]||(T[1]=O=>o(a).userForm.password=O),label:v.$t("password"),maxlength:32},null,8,["value","label"]),e("div",null,[y(ne,{modelValue:o(a).userForm.rememberpwd,"onUpdate:modelValue":T[2]||(T[2]=O=>o(a).userForm.rememberpwd=O)},{default:z(()=>[V(r(v.$t("rememberPSW")),1)]),_:1},8,["modelValue"])]),e("div",Ks,[e("button",{class:M([o(a).userForm.number!=""?"active":""]),onClick:l},r(v.$t("login")),3),e("button",{class:"register",onClick:$},r(v.$t("register")),1)]),e("div",Xs,[o(a).isOpenForgetPasswordSMSState||o(a).isOpenForgetPasswordEmailState?(h(),b("div",{key:0,class:"forgetcon",onClick:F},[y(ce,{name:"clock_b",class:"forgetbg"}),e("div",Js,r(v.$t("forgetPSW")),1)])):U("v-if",!0),e("div",{class:"customcon",onClick:P},[o(d)?(h(),J(ce,{key:0,name:"serverTicket1",class:"forgetbg"})):(h(),J(ce,{key:1,name:"customer_b",class:"forgetbg"})),e("div",Ys,r(o(d)?o(t)("serverTicket"):v.$t("customerServiceTitle")),1)])]),y(je,{ref_key:"captchaRef",ref:R,"refresh-color":"#FFFFFF","show-refresh":!0,text:o(t)("slideCaptchaText"),onFinish:ae,onRefresh:oe},null,8,["text"]),U("10锁定密码弹窗"),o(a).isOpenForgetPasswordSMSState&&p.value?(h(),J(As,{key:0,show:p.value,"onUpdate:show":T[3]||(T[3]=O=>p.value=O),phoneNumber:o(a).getUserForm.number,phoneNumberType:o(a).getUserForm.numberType,passwordErrorMaxNum:i.value},null,8,["show","phoneNumber","phoneNumberType","passwordErrorMaxNum"])):(h(),J(Oe,{key:1,show:p.value,"onUpdate:show":T[5]||(T[5]=O=>p.value=O),"show-cancel-btn":!0,title:v.$t("idlockTitle")},{content:z(()=>[e("div",Qs,[V(r(v.$t("idlockTip1",[i.value]))+" ",1),eo,V(r(v.$t("idlockTip2")),1)])]),footer:z(()=>[e("button",{class:"dialogBtn",onClick:T[4]||(T[4]=O=>p.value=!1)},r(v.$t("cancel")),1),e("button",{class:"dialogBtn",onClick:ie},[e("img",{src:o(de)("main","iconservr")},null,8,to),V(" "+r(v.$t("contactServicer")),1)])]),_:1},8,["show","title"])),U(" 验证弹窗 "),y(We,{showPopup:I.value,onOnConfirm:Z,onOnBack:K},null,8,["showPopup"])])}}});const oo=H(so,[["__scopeId","data-v-33f88764"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/SignIn.vue"]]),ao={class:"verifyInput__container"},no={class:"verifyInput__container-label"},ro={key:0},lo={key:1},io={class:"verifyInput__container-input"},uo=["placeholder"],co={key:0},po={key:1},vo={class:"verifyInput__container-tip"},mo=A({__name:"VerifyEmailInput",props:{value:{type:String,required:!1},typeP:{type:String,required:!1},isShowVerifyT:{type:Boolean,required:!1},placeholder:{type:String,required:!1,default:_e.global.t("registerTip6")},sendFunc:{type:Function,required:!1},number:{type:String,required:!1},numberType:{type:String,required:!1},showVerify:{type:Boolean,required:!1,default:!0},email:{type:String,required:!1,default:""},loginType:{type:String,required:!1}},emits:["update:value"],setup(g,{emit:k}){const u=g;ee();const t=te(),c=Y(),s=E({get(){return u.value||""},set(i){k("update:value",i)}}),a=m(!0);async function p(){a.value&&(a.value=!1),!(t.countEmailDown>0)&&(t.sendEmailCode(),u.sendFunc&&u.sendFunc())}const n=E(()=>localStorage.getItem("email")||u.email),d=i=>{const f=i.target;f.value=f.value.replace(/\s+/g,""),f.value=f.value.replace(/[^\d]/g,"")};function _(){c.push({name:"CustomerService"})}return(i,f)=>{const C=B("svg-icon"),l=B("van-icon");return D((h(),b("div",ao,[D(e("div",no,[y(C,{name:"safeIcon",class:"verifyInput__container-label__icon"}),i.typeP==="updateEmail"||i.typeP==="lock"?(h(),b("span",ro,r(i.$t("sendVerifyCodeTo"))+" "+r(o(dt)(n.value)),1)):(h(),b("span",lo,r(i.$t("verifyCode")),1))],512),[[G,!(i.isShowVerifyT===!1&&i.typeP==="updateEmail")]]),e("div",io,[D(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=$=>s.value=$),placeholder:i.$t("phEnterVerificationCode"),maxlength:"6",onInput:d},null,40,uo),[[pe,s.value]]),e("button",{onClick:p,class:M({inActive:o(t).countEmailDown>0})},[o(t).countEmailDown===0?(h(),b("span",co,r(i.$t("send")),1)):(h(),b("span",po,r(o(t).countEmailDown)+"S ",1))],2)]),D(e("div",vo,[y(l,{name:"warning-o"}),e("span",null,r(i.$t("codeUnreceived"))+"?",1),e("span",{onClick:f[1]||(f[1]=$=>_())},r(i.$t("contactServicer")),1)],512),[[G,!a.value]])],512)),[[G,i.showVerify]])}}});const go=H(mo,[["__scopeId","data-v-484b25b1"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/VerifyEmailInput.vue"]]),Te=g=>(ve("data-v-95ce4137"),g=g(),me(),g),_o={class:"RpwdPopup"},fo={class:"RpwdPopup-head"},ho={class:"RpwdPopup-topTip"},wo=Te(()=>e("br",null,null,-1)),yo={class:"RpwdPopup-tip"},bo=Te(()=>e("div",{class:"tipbg"},null,-1)),ko={class:"RpwdPopup-errorTip"},So={key:0},$o={class:"errorTip"},Co=Te(()=>e("br",null,null,-1)),Io={class:"RpwdPopup-foot"},Po=A({__name:"EmailRpwdPopup",props:{show:{type:Boolean,default:!1},gamePresentation:{type:String,default:""},email:{type:String,default:""},passwordErrorMaxNum:{default:10}},emits:["update:show"],setup(g,{emit:k}){const u=g,{t}=ee();Y();const c=m(!1),{getSelfCustomerServiceLink:s}=be({ServerType:2}),a=te(),p=m(!1),n=m({smsvcode:"",password:"",rePassword:""}),d=E({get(){return u.show||!1},set(C){C||k("update:show",!1)}}),_=async()=>{if(!u.email)return;await re(pt({email:u.email,emailType:qe.resetPassword}))?ye(t("sendSuccess")):setTimeout(()=>{a.setCountEmailDown(0)},500)},i=async()=>{if(!n.value.smsvcode.trim())return q({message:t("registerTip6"),wordBreak:"break-word"});if(n.value.smsvcode.trim().length!=6)return q({message:t("verifyCode6Digits"),wordBreak:"break-word"});if(!n.value.password.trim())return q({message:t("registerTip2"),wordBreak:"break-word"});if(!Ie.passReg3.test(n.value.password)){c.value=!0;return}if(!n.value.rePassword.trim())return q({message:t("registerTip3"),wordBreak:"break-word"});if(n.value.password!==n.value.rePassword){p.value=!0;return}else p.value=!1;const{password:C,smsvcode:l}=n.value;let $={username:u.email,type:"email",password:C,smsvcode:l};await re(Ae($))&&(ye(t("rpdsucceed")),localStorage.clear(),k("update:show",!1))},f=()=>{s()};return(C,l)=>{const $=B("svg-icon"),F=B("van-popup");return h(),b(Se,null,[U(" 规则弹层 begin"),y(F,{show:d.value,"onUpdate:show":l[4]||(l[4]=P=>d.value=P),"close-on-click-overlay":!1,position:"bottom",round:""},{default:z(()=>[e("div",_o,[e("div",fo,r(o(t)("idlockTitle")),1),e("div",ho,[V(r(o(t)("idlockTip1",[g.passwordErrorMaxNum])),1),wo,V(r(o(t)("idlockTip3")),1)]),y(go,{value:n.value.smsvcode,"onUpdate:value":l[0]||(l[0]=P=>n.value.smsvcode=P),sendFunc:_,email:g.email,"type-p":"lock"},null,8,["value","email"]),y(le,{value:n.value.password,"onUpdate:value":l[1]||(l[1]=P=>n.value.password=P),label:o(t)("newPSWRest")},null,8,["value","label"]),D(e("div",yo,[bo,e("span",null,r(o(t)("pswRule")),1)],512),[[G,c.value]]),y(le,{value:n.value.rePassword,"onUpdate:value":l[2]||(l[2]=P=>n.value.rePassword=P),label:o(t)("newPSWconfirm")},null,8,["value","label"]),e("div",ko,[p.value?(h(),b("span",So,r(o(t)("unmatchedInput")),1)):U("v-if",!0)]),e("div",{class:"gotuserver",onClick:f},[y($,{name:"customer1"}),V(r(o(t)("contactServicer")),1)]),e("div",$o,[V(r(o(t)("wrongemail")),1),Co,V(r(o(t)("rpwdEmailPopupTip")),1)]),e("div",Io,[e("button",{class:"dialogBtn",onClick:i},r(o(t)("confirm")),1),e("button",{class:"dialogBtn",onClick:l[3]||(l[3]=P=>k("update:show",!1))},r(o(t)("cancel")),1)])])]),_:1},8,["show"])],2112)}}});const To=H(Po,[["__scopeId","data-v-95ce4137"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/EmailRpwdPopup.vue"]]),Fo={class:"emailcontainer"},Ro={class:"emailinput__container"},xo={class:"emailinput__container-label"},Bo={class:"emailinput__container-input"},Eo=["placeholder"],Lo=A({__name:"EmailInput",props:{type:{type:String,required:!0},email:{type:String,required:!0}},emits:["update:show-validate","changeN"],setup(g,{expose:k,emit:u}){const t=g,c=te(),s=E({get(){return t.email},set(d){u("changeN",d)}});function a(d){const _=d.target,i=/[\u4e00-\u9fa5]/g;_.value=_.value.replace(i,""),_.value.length>0&&u("update:show-validate",!1)}const p=m();function n(){j(()=>{p.value.focus()})}return k({getFocus:n}),(d,_)=>{const i=B("svg-icon");return h(),b("div",Fo,[e("div",Ro,[e("div",xo,[y(i,{name:"email",class:"emailinput__container-label__icon"}),e("span",null,r(o(c).isOpenExternalAccount?`${d.$t("otherlogin")} ${d.$t("login")}`:d.$t("email")),1)]),e("div",Bo,[D(e("input",{type:"text",name:"userEmail",maxlength:"250","onUpdate:modelValue":_[0]||(_[0]=f=>s.value=f),placeholder:d.$t("inputemail"),onInput:a,ref_key:"email",ref:p},null,40,Eo),[[pe,s.value]])])])])}}});const Vo=H(Lo,[["__scopeId","data-v-4499df08"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/EmailInput.vue"]]),No=g=>(ve("data-v-436a69c4"),g=g(),me(),g),Do={class:"signIn__container"},Uo={class:"signIn__container-button"},qo={class:"signIn_footer"},Ao={class:"font24"},Mo={class:"font24"},zo={class:"idlockTip"},Ho=No(()=>e("br",null,null,-1)),Oo=["src"],Zo=A({__name:"EmailSignIn",setup(g){const k=Y(),{t:u}=ee(),t=m(10),{setLoading:c}=Me(),s=te(),a=m(!1),{getSelfCustomerServiceLink:p,isCenterServer:n}=be({ServerType:2}),d=m(!1),_=m(),i=m("login"),f=m(!1);async function C(){if(ze()&&await new Promise(w=>setTimeout(w,500)),!(!s.userForm.email||s.userForm.email.toString().trim()==="")){if(!s.isOpenExternalAccount&&!Ie.email1.test(s.userForm.email))return q({message:u(Ps.email),wordBreak:"break-word"});if(!s.userForm.password||s.userForm.password.toString().trim()==="")return q({message:u("registerTip2"),wordBreak:"break-word"});s.userForm.remember&&s.userForm.password.toString().trim()!==""?localStorage.setItem("remember",s.userForm.password):localStorage.setItem("remember",""),s.isOpenCaptcha&&!f.value?ae():(c(!0),await s.signIn(s.userForm).then(w=>{console.log("res",w)}).catch(w=>{var I;f.value=!1,w.code===1&&(t.value=((I=w.data)==null?void 0:I.passwordErrorMaxNum)||10),w.msgCode===33?d.value=!0:oe(w.msgCode||0)}).finally(()=>{L.value.setShowHiden(!1),c(!1)}))}}const l=()=>{k.push({name:"register"})};function $(){k.push({name:"rpwd"}),s.setCurrentView("ResetPassword")}function F(){p()}const P=w=>{s.getUserForm.email=w},L=m(),S=m(""),x=()=>{a.value=!1,k.push({name:"CustomerService"})};Ve(window,"keydown",w=>{w.key=="Enter"&&C()});const R=w=>{s.userForm.vCode=w,C()},W=()=>{d.value=!1,s.userForm.vCode=""};ge(async()=>{var I;const w=s.getUserForm;localStorage.getItem("remember")!=null&&((I=localStorage.getItem("remember"))==null?void 0:I.toString().trim())!=""?w.password=localStorage.getItem("remember"):w.password="",s.setUserForm({...w})});let ie=$e(()=>s.userForm.number,w=>{s.setCountDown(0)},{flush:"post"});const ue=async w=>{j(async()=>{L.value.startRequestVerify(),c(!0),s.signIn(Object.assign(s.userForm,{captchaId:S.value,track:w})).then(I=>{s.userForm.vCode="",console.log("res",I)}).catch(I=>{var Z;console.log("登陆错误",I),I.code===1&&(t.value=((Z=I.data)==null?void 0:Z.passwordErrorMaxNum)||10),I.msgCode===33?(j(()=>d.value=!0),f.value=!0):oe(I.msgCode||0)}).finally(()=>{L.value.setShowHiden(!1),c(!1)})})},ae=()=>{j(async()=>{L.value.startRequestGenerate();const w=await re(He());w?(S.value=w.data.captchaId,L.value.endRequestGenerate(w.data.backgroundImage,w.data.sliderImage)):L.value.endRequestGenerate(null,null)})},oe=w=>{w==122&&(a.value=!0)};return Ne(()=>{ie(),s.getUserForm.remember||(s.getUserForm.password="")}),(w,I)=>{const Z=B("van-checkbox"),K=B("svg-icon");return h(),b("div",Do,[y(Vo,{ref_key:"email",ref:_,type:i.value,email:o(s).userForm.email,onChangeN:P},null,8,["type","email"]),y(le,{value:o(s).userForm.password,"onUpdate:value":I[0]||(I[0]=v=>o(s).userForm.password=v),label:w.$t("password"),maxlength:32},null,8,["value","label"]),e("div",null,[y(Z,{modelValue:o(s).userForm.rememberpwd,"onUpdate:modelValue":I[1]||(I[1]=v=>o(s).userForm.rememberpwd=v)},{default:z(()=>[V(r(w.$t("rememberPSW")),1)]),_:1},8,["modelValue"])]),e("div",Uo,[e("button",{class:M([o(s).userForm.email!=""?"active":""]),onClick:C},r(w.$t("login")),3),e("button",{class:"register",onClick:l},r(w.$t("register")),1)]),e("div",qo,[o(s).isOpenForgetPasswordSMSState||o(s).isOpenForgetPasswordEmailState?(h(),b("div",{key:0,class:"forgetcon",onClick:$},[y(K,{name:"clock_b",class:"forgetbg"}),e("div",Ao,r(w.$t("forgetPSW")),1)])):U("v-if",!0),e("div",{class:"customcon",onClick:F},[o(n)?(h(),J(K,{key:0,name:"serverTicket1",class:"forgetbg"})):(h(),J(K,{key:1,name:"customer_b",class:"forgetbg"})),e("div",Mo,r(o(n)?o(u)("serverTicket"):w.$t("customerServiceTitle")),1)])]),y(je,{ref_key:"captchaRef",ref:L,"refresh-color":"#FFFFFF","show-refresh":!0,text:o(u)("slideCaptchaText"),onFinish:ue,onRefresh:ae},null,8,["text"]),U("10锁定密码弹窗"),o(s).isOpenForgetPasswordEmailState&&a.value?(h(),J(To,{key:0,show:a.value,"onUpdate:show":I[2]||(I[2]=v=>a.value=v),email:o(s).getUserForm.email,passwordErrorMaxNum:t.value},null,8,["show","email","passwordErrorMaxNum"])):(h(),J(Oe,{key:1,show:a.value,"onUpdate:show":I[4]||(I[4]=v=>a.value=v),"show-cancel-btn":!0,title:w.$t("idlockTitle")},{content:z(()=>[e("div",zo,[V(r(w.$t("idlockTip1",[t.value]))+" ",1),Ho,V(r(w.$t("idlockTip2")),1)])]),footer:z(()=>[e("button",{class:"dialogBtn",onClick:I[3]||(I[3]=v=>a.value=!1)},r(w.$t("cancel")),1),e("button",{class:"dialogBtn",onClick:x},[e("img",{src:o(de)("main","iconservr")},null,8,Oo),V(" "+r(w.$t("contactServicer")),1)])]),_:1},8,["show","title"])),U(" 验证弹窗 "),y(We,{showPopup:d.value,onOnConfirm:R,onOnBack:W},null,8,["showPopup"])])}}});const Wo=H(Zo,[["__scopeId","data-v-436a69c4"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/components/Login/EmailSignIn.vue"]]),jo={class:"login__container-heading"},Go={class:"login__container-heading__title"},Ko={class:"login__container-heading__subTitle"},Xo={class:"login_container-tab"},Jo={class:"login__container-form"},sa=A({__name:"index",setup(g){const{t:k}=_e.global,u=Y(),t=te();t.getRegisterState();const c=m("mobile"),s=m(void 0);t.userForm.logintype=c.value;const{openAll:a}=vt();function p(){u.replace("/")}const n=d=>{c.value=d,t.userForm.logintype=d,t.userForm.password="",t.remember(!0)};return st((d,_,i)=>{i(),d.name==="home"&&a()}),ge(async()=>{const d=(await ot(()=>import("./chunk.fingerprintjs-76068451.js"),["assets/js/chunk.fingerprintjs-76068451.js","assets/js/common.modules-f9fa5dc7.js","assets/css/common-05d2aa17.css"])).default;if(!localStorage.getItem("arvId"))try{const i=await(await d.load()).get();localStorage.setItem("arvId",i.visitorId)}catch(_){console.error("Error generating fingerprint:",_)}t.remember(!0)}),(d,_)=>{const i=B("NavBar"),f=B("svg-icon");return h(),b("div",{class:"login__container",ref_key:"loginContainerRef",ref:s},[y(i,{onClickLeft:p,class:"main",leftArrow:!0,headLogo:!0},{right:z(()=>[y(Ct)]),_:1}),e("div",jo,[e("h1",Go,r(o(k)("login")),1),e("div",Ko,[e("div",null,r(d.$t("pleaseloginphoneoremail")),1),e("div",null,r(d.$t("forgetyourpassword")),1)])]),e("div",Xo,[e("div",{class:M(["tab",[c.value=="mobile"?"active":""]]),onClick:_[0]||(_[0]=C=>n("mobile"))},[y(f,{name:"phone"}),e("div",null,r(d.$t("phoneN")),1)],2),e("div",{class:M(["tab",[c.value=="email"?"active":""]]),onClick:_[1]||(_[1]=C=>n("email"))},[e("div",null,[y(f,{name:"email"}),D(y(f,{name:"user"},null,512),[[G,o(t).isOpenExternalAccount]])]),e("div",null,r(o(t).isOpenExternalAccount?d.$t("otherlogin"):d.$t("emaillogin")),1)],2)]),e("div",Jo,[e("div",{class:M(["tab-content",[c.value=="mobile"?"activecontent":""]])},[y(oo,{ref:"signIn"},null,512)],2),e("div",{class:M(["tab-content",[c.value=="email"?"activecontent":""]])},[y(Wo,{ref:"signIn"},null,512)],2)])],512)}}});export{Vo as E,bt as L,le as P,je as S,ys as V,sa as _,We as a,go as b,Ps as c,Ws as d,Ct as e,Ie as v};
