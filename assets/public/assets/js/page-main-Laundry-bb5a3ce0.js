import{G as U,z as V,R as F,B as te,r as p,A as W,C as E,H as b,aA as q,I as h,Q as r,O as s,av as g,ao as N,J as e,P as t,aB as k,ax as C,ay as M,ap as P,K as J,M as K,au as se,N as v}from"./common.modules-f9fa5dc7.js";import{y as ae,bT as y,A as D,c8 as ne,g as B,c9 as oe,_ as H,ca as ie,cb as le}from"./page-activity-ActivityDetail-5a5f2722.js";import{N as X}from"./page-home-AllGames-7e31d4ba.js";import{D as ce}from"./page-activity-Championship-a16bb0a5.js";import{L as de}from"./page-activity-DailySignIn-2e327e85.js";const re={class:"Laundry-page"},ue={class:"laundry-page_container"},_e={class:"laundry-page_box"},ve={class:"title"},pe={class:"lab"},me={class:"number"},ye={class:"txt"},he={class:"c-row"},fe={class:"item"},ge={class:"tit"},be={class:"num"},Re={class:"tit"},we={class:"num red"},Te={class:"item"},Le={class:"tit"},xe={class:"num"},ke={class:"tip"},Ce=["src"],Ae={class:"laundry-page_list"},$e={class:"title"},Se={key:0,class:"list"},Ne={class:"header"},Be={class:""},We={class:"name"},je={class:"time"},ze={class:"state"},Ie={class:"body"},Oe={class:"left"},Me={class:"imgBox"},Pe=["src"],De={class:"right"},Ue={class:"red"},Ve={class:"orange"},Fe={alt:""},He={class:"Laundry-Con"},Ge={class:"Laundry-Con_tip"},Qe={class:"Laundry-Con_txt"},qe={class:"number"},Ee=U({__name:"index",setup(G){const{t:a}=V(),R=F(),f=ae(),w=te(()=>f.getIsShowAppHandCodeWashingSwitch),_=p(null),u=p(0),S=o=>{let c=y.gameTabList[u.value].codeType;if(c===x.codeType)return!1;x.codeType=c,n()},m=p(!1),L=p(0),A=async()=>{var c,T;if(i.codeWashAmount<100)return;const o=await D(oe(x));((c=o==null?void 0:o.data)==null?void 0:c.rebateAmount)>0&&(L.value=(T=o==null?void 0:o.data)==null?void 0:T.rebateAmount,n(),m.value=!0)},j=()=>{m.value=!1},$=()=>{R.push({name:"Laundry-LaundryRule"})},l=()=>{R.push({name:"Laundry-LaundryRecord"})},i=W({codeWashAmount:0,dayRebate:0,totalRebate:0,washRate:"",washList:[]}),x=W({codeType:-1});function z(o){let c="";return y.gameTabList.map(T=>{T.codeType==o&&(c=T.name)}),c}async function n(){const o=await D(ne(x));o&&(i.codeWashAmount=o.data.codeWashAmount,i.dayRebate=o.data.dayRebate,i.totalRebate=o.data.totalRebate,i.washRate=o.data.washRate,i.washList=o.data.washList)}return E(()=>{y.gameTabList,f.getHomeSetting(),n()}),(o,c)=>{const T=b("NavBar"),I=b("svg-icon"),Y=b("van-sticky"),Z=b("van-button"),Q=q("throttle-click"),ee=q("lazy");return v(),h("div",re,[r(T,{title:s(a)("laundry"),"left-arrow":"",onClickLeft:c[0]||(c[0]=d=>s(R).go(-1))},null,8,["title"]),r(Y,{"offset-top":46,container:_.value,class:"bet-container-sticky"},{default:g(()=>[e("div",null,[r(X,{list:s(y).gameTabList,active:u.value,"onUpdate:active":c[1]||(c[1]=d=>u.value=d),tabClassName:"tabs",onOnClickTab:S,activeClassName:"tab_active",ref:"tabRefs",tabItemClassName:"funtab_item"},{default:g(({item:d,index:O})=>[e("div",{class:P(["tab_item",{tab_active:O===u.value}])},[r(I,{name:d.img},null,8,["name"]),e("span",null,t(d.name),1)],2)]),_:1},8,["list","active"])])]),_:1},8,["container"]),N(" 可洗码量 "),e("div",ue,[e("div",_e,[e("div",ve,t(s(y).gameTabList[u.value].name)+"-"+t(s(a)("washableSize")),1),e("div",pe,[r(I,{name:"rebateRealTime"}),k(" "+t(s(a)("laundryTxt")),1)]),e("div",me,[r(I,{name:"rebate"}),k(" "+t(i.codeWashAmount.toFixed(2)||0),1)]),e("div",ye,t(s(a)("laundryTxt1")),1),e("div",he,[e("div",fe,[C(e("div",null,[e("p",ge,t(s(a)("rebateToday")),1),e("span",be,t(i.dayRebate||0),1)],512),[[M,u.value==0]]),C(e("div",null,[e("p",Re,t(s(a)("laundryRate")),1),e("span",we,t(i.washRate||0)+"%",1)],512),[[M,u.value!=0]])]),e("div",Te,[e("p",Le,t(s(a)("totalRebate")),1),e("span",xe,t(i.totalRebate||0),1)])]),e("div",ke,t(s(a)("laundryTxt2")),1),w.value?C((v(),h("button",{key:0,class:P(i.codeWashAmount>=100?"btn active":"btn")},[k(t(s(a)("codeWashing")),1)],2)),[[Q,{handler:A,wait:2e3}]]):N("v-if",!0),C(e("p",{class:"rule",onClick:$},[k(t(s(a)("understandRules")),1),e("img",{class:"rule-img",src:s(B)("main","ruleicon"),alt:""},null,8,Ce)],512),[[M,!1]])]),N(" 洗码记录 "),e("div",Ae,[e("div",$e,t(s(a)("laundryRed")),1),i.washList?(v(),h("div",Se,[(v(!0),h(J,null,K(i.washList||[],(d,O)=>(v(),h("div",{class:"item",key:O},[e("div",Ne,[e("div",Be,[e("p",We,t(z(d.codeType)),1),e("span",je,t(d.addTime),1)]),e("div",ze,t(s(a)("laundrySuccess")),1)]),e("div",Ie,[e("div",Oe,[e("div",Me,[e("img",{class:"img",src:s(B)("main","gameStatsSteps"),alt:""},null,8,Pe)]),e("div",null,[e("p",null,t(s(a)("laundryAmount")),1),e("p",null,t(s(a)("laundryRate")),1),e("p",null,t(s(a)("rebateAmount")),1)])]),e("div",De,[e("p",null,t(d.washVolume),1),e("p",Ue,t(d.washRate)+"%",1),e("p",Ve,t(d.rebateAmount),1)])])]))),128))])):N("v-if",!0),C((v(),se(Z,{class:"all-record",plain:"",block:"",round:"",type:"primary"},{default:g(()=>[k(t(s(a)("allRecords")),1)]),_:1})),[[Q,{handler:l,wait:2e3}]])])]),r(ce,{show:m.value,"onUpdate:show":c[2]||(c[2]=d=>m.value=d),onConfirm:j,"show-cancel-btn":!1,confirmText:s(a)("confirm"),title:`${s(y).gameTabList[u.value].name}-${s(a)("laundryAmount")}`},{header:g(()=>[C(e("img",Fe,null,512),[[ee,s(B)("public","succeed")]])]),content:g(()=>[e("div",He,[e("div",Ge,t(s(a)("codeWashingSuccess")),1),e("div",Qe,[k(t(s(a)("rebateAmount"))+":",1),e("span",qe,t(L.value.toFixed(2)),1)])])]),_:1},8,["show","confirmText","title"])])}}});const Je=H(Ee,[["__scopeId","data-v-cdf0e578"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/Laundry/index.vue"]]),wt=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),Ke={class:"Laundry-Record"},Xe={style:{"background-color":"#f7f8ff"}},Ye={class:"list"},Ze={class:"header"},et={class:""},tt={class:"name"},st={class:"time"},at={class:"state"},nt={class:"body"},ot={class:"left"},it={class:"imgBox"},lt=["src"],ct={class:"right"},dt={class:"red"},rt={class:"orange"},ut=U({__name:"index",setup(G){const{t:a}=V(),R=F(),f=p(),w=p(null),_=p(0),u=async $=>{console.log(_.value);let l=y.gameTabList[_.value].codeType;A.value.codeType=l,L.value=!0,S.pageNo=1,m.list=[],await f.value.resetRefresh()},S=W({pageNo:1,pageSize:10,codeType:-1}),m=W({list:[],pageNo:0,totalPage:0,totalCount:0}),L=p(!0),A=p({codeType:-1});function j($){let l="";return y.gameTabList.map(i=>{i.codeType==$&&(l=i.name)}),l}return($,l)=>{const i=b("NavBar"),x=b("svg-icon"),z=b("van-sticky");return v(),h("div",Ke,[r(i,{title:s(a)("laundryRecord"),"left-arrow":"",onClickLeft:l[0]||(l[0]=n=>s(R).go(-1))},null,8,["title"]),r(z,{"offset-top":46,container:w.value,class:"bet-container-sticky"},{default:g(()=>[e("div",Xe,[r(X,{list:s(y).gameTabList,active:_.value,"onUpdate:active":l[1]||(l[1]=n=>_.value=n),tabClassName:"tabs",onOnClickTab:u,activeClassName:"tab_active",ref:"tabRefs",tabItemClassName:"funtab_item"},{default:g(({item:n,index:o})=>[e("div",{class:P(["tab_item",{tab_active:o===_.value}])},[r(x,{name:n.img},null,8,["name"]),e("span",null,t(n.name),1)],2)]),_:1},8,["list","active"])])]),_:1},8,["container"]),e("div",Ye,[r(de,{distance:300,api:s(ie),list:m.list,"onUpdate:list":l[2]||(l[2]=n=>m.list=n),"page-query":A.value,"onUpdate:pageQuery":l[3]||(l[3]=n=>A.value=n),"is-first":L.value,"onUpdate:isFirst":l[4]||(l[4]=n=>L.value=n),ref_key:"listRef",ref:f,isAutoLoad:!0},{content:g(()=>[(v(!0),h(J,null,K(m.list,(n,o)=>(v(),h("div",{class:"item",key:o},[e("div",Ze,[e("div",et,[e("p",tt,t(j(n.codeType)),1),e("span",st,t(n.addTime),1)]),e("div",at,t(s(a)("laundrySuccess")),1)]),e("div",nt,[e("div",ot,[e("div",it,[e("img",{class:"img",src:s(B)("main","gameStatsSteps"),alt:""},null,8,lt)]),e("div",null,[e("p",null,t(s(a)("laundryAmount")),1),e("p",null,t(s(a)("laundryRate")),1),e("p",null,t(s(a)("rebateAmount")),1)])]),e("div",ct,[e("p",null,t(n.washVolume),1),e("p",dt,t(n.washRate)+"%",1),e("p",rt,t(n.rebateAmount),1)])])]))),128))]),_:1},8,["api","list","page-query","is-first"])])])}}});const _t=H(ut,[["__scopeId","data-v-34682eef"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/Laundry/LaundryRecord/index.vue"]]),Tt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),vt={class:"Laundry-Rule"},pt=["innerHTML"],mt=U({__name:"index",setup(G){const{t:a}=V(),R=F(),f=p();return E(async()=>{const w=await D(le());w&&(f.value=w.data.washRules)}),(w,_)=>{const u=b("NavBar");return v(),h("div",vt,[r(u,{title:s(a)("laundryRule"),"left-arrow":"",onClickLeft:_[0]||(_[0]=S=>s(R).go(-1))},null,8,["title"]),e("div",{class:"Laundry-Rule-content",innerHTML:f.value},null,8,pt)])}}});const yt=H(mt,[["__scopeId","data-v-f4ca4591"],["__file","/usr/local/jenkins-prod/workspace/AR081-Pages-Bengal-dkwin/src/views/main/Laundry/LaundryRule/index.vue"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"}));export{Tt as a,Lt as b,wt as i};
